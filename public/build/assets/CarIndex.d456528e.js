import{g as x,u as v,z as $,A as F,B as E,c as d,a as m,b as s,i,x as U,d as e,w as k,y as p,t as r,j as c,s as w,e as S,F as B,n as L,f as M,k as C,o as n,H as z,_ as A,L as H}from"./app.1b38ef22.js";import{_ as I}from"./Breadcrumb.cb73cb46.js";import{_ as G}from"./Pagination.9194b4da.js";import{_ as O}from"./PageTitle.0dcaf6ba.js";import{m as R}from"./mdi.ef20bf61.js";const q={for:"modal-create",class:"modal cursor-pointer"},J={class:"modal-box relative",for:""},Q=e("h3",{class:"font-bold text-lg"},"Tambah data mobil",-1),W=["onSubmit"],X={class:"grid md:grid-cols-3 gap-4"},Y={class:"form-control w-full my-4 col-span-2"},Z=e("label",{class:"label"},"Merk Mobil",-1),ee=["readonly"],se={key:0,class:"label"},oe={class:"label-text-alt text-error"},te={class:"form-control w-full my-4"},le=e("label",{class:"label"},"Biaya / Kg",-1),ae=["readonly"],re={key:0,class:"label"},ne={class:"label-text-alt text-error"},de={class:"grid md:grid-cols-3 gap-4"},ie={class:"form-control w-full my-4 col-span-2"},ce=e("label",{class:"label"},"No Polisi",-1),pe=["readonly"],_e={key:0,class:"label"},ue={class:"label-text-alt text-error"},be={class:"form-control w-full my-4"},he=e("label",{class:"label"},"Tahun",-1),me=["readonly"],ye={key:0,class:"label"},fe={class:"label-text-alt text-error"},ge={class:"form-control w-full my-4"},xe=e("label",{class:"label"},"Keterangan",-1),ve=["readonly"],ke={key:0,class:"label"},we={class:"label-text-alt text-error"},Me={class:"flex justify-between"},Ve=["disabled"],Ue={for:"modal-edit",class:"modal cursor-pointer"},Se={class:"modal-box relative",for:""},Be={class:"font-bold text-lg"},Ce=["onSubmit"],Ke={class:"grid md:grid-cols-3 gap-4"},Ne={class:"form-control w-full my-4 col-span-2"},Te=e("label",{class:"label"},"Merk Mobil",-1),De=["readonly"],je={key:0,class:"label"},Pe={class:"label-text-alt text-error"},$e={class:"form-control w-full my-4"},Fe=e("label",{class:"label"},"Biaya / Kg",-1),Ee=["readonly"],Le={key:0,class:"label"},ze={class:"label-text-alt text-error"},Ae={class:"grid md:grid-cols-3 gap-4"},He={class:"form-control w-full my-4 col-span-2"},Ie=e("label",{class:"label"},"No Polisi",-1),Ge=["readonly"],Oe={key:0,class:"label"},Re={class:"label-text-alt text-error"},qe={class:"form-control w-full my-4"},Je=e("label",{class:"label"},"Tahun ",-1),Qe=["readonly"],We={key:0,class:"label"},Xe={class:"label-text-alt text-error"},Ye={class:"form-control w-full my-4"},Ze=e("label",{class:"label"},"Keterangan",-1),es=["readonly"],ss={key:0,class:"label"},os={class:"label-text-alt text-error"},ts={class:"flex justify-between"},ls=["disabled"],as=["disabled","onClick"],rs={class:"px-4 grid gap-4"},ns={class:"card w-full rounded-none border-2 border-info shadow-xl"},ds={class:"card-body grid gap-4"},is={class:"flex justify-between items-center mb-4"},cs={class:"form-control"},ps={class:"card w-full rounded-none border-2 border-info shadow-xl"},_s={class:"card-body grid gap-4"},us={class:"w-full text-left text-base"},bs=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Mobil"),e("th",{class:"py-3 px-6"},"Keterangan"),e("th",{class:"py-3 px-6"},"Tahun"),e("th",{class:"py-3 px-6"},"Biaya / Kg"),e("th",{class:"py-3 px-6"})])],-1),hs=["onClick"],ms={class:"group-hover:bg-base-300 py-4 px-6"},ys={class:"group-hover:bg-base-300 py-4 px-6"},fs={class:"font-bold"},gs={class:"text-sm opacity-50"},xs={class:"group-hover:bg-base-300 py-4 px-6 max-w-xs"},vs={class:"group-hover:bg-base-300 py-4 px-6"},ks={class:"group-hover:bg-base-300 py-4 px-6"},ws={class:"group-hover:bg-base-300 py-4 px-6"},Ms={key:1},Vs={colspan:"6",class:"text-center border-b-2"},Ts={__name:"CarIndex",props:{price:Number,search:String,cars:{type:Object}},setup(K){const _=K,N=[{url:route("data.index"),label:"Data"},{url:null,label:"Mobil"}],y=x(!1),h=x(!1),f=x(null),a=v({name:"",price:_.price,no_pol:"",description:"",year:""}),o=v({name:"",price:"",no_pol:"",description:"",year:""}),g=v({search:_.search});$(g,F.exports.debounce(b=>{E.Inertia.get(route("data.car.index"),{search:b.search},{preserveState:!0,replace:!0})},500));const T=()=>{a.post(route("data.car.store"),{onSuccess:()=>{u()}})},D=b=>{u();let t=_.cars.data[b];f.value=t.id,o.name=t.name,o.price=t.price.value,o.description=t.description,o.no_pol=t.no_pol,o.year=t.year,h.value=!0},j=()=>{o.patch(route("data.car.update",f.value),{onSuccess:()=>{u()}})},u=()=>{o.clearErrors(),a.clearErrors(),o.reset(),a.reset(),o.defaults({name:null,description:null,no_pol:null,year:null}),a.defaults({name:null,price:_.price,description:null,no_pol:null,year:null}),h.value=!1,y.value=!1},P=()=>{o.delete(route("data.car.destroy",f.value),{onSuccess:()=>{u()}})};return(b,t)=>(n(),d(B,null,[m(s(z),{title:"Mobil"}),i(e("input",{type:"checkbox",id:"modal-create","onUpdate:modelValue":t[0]||(t[0]=l=>y.value=l),class:"modal-toggle"},null,512),[[U,y.value]]),e("label",q,[e("label",J,[Q,e("form",{onSubmit:k(T,["prevent"])},[e("div",X,[e("div",Y,[Z,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":t[1]||(t[1]=l=>s(a).name=l),type:"text",placeholder:"Merk Mobil",class:"input input-bordered w-full"},null,8,ee),[[p,s(a).name]]),s(a).errors.name?(n(),d("label",se,[e("span",oe,r(s(a).errors.name),1)])):c("",!0)]),e("div",te,[le,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":t[2]||(t[2]=l=>s(a).price=l),type:"text",placeholder:"Biaya / Kg",class:"input input-bordered w-full"},null,8,ae),[[p,s(a).price]]),s(a).errors.price?(n(),d("label",re,[e("span",ne,r(s(a).errors.price),1)])):c("",!0)])]),e("div",de,[e("div",ie,[ce,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":t[3]||(t[3]=l=>s(a).no_pol=l),type:"text",placeholder:"No Polisi",class:"input input-bordered w-full"},null,8,pe),[[p,s(a).no_pol]]),s(a).errors.no_pol?(n(),d("label",_e,[e("span",ue,r(s(a).errors.no_pol),1)])):c("",!0)]),e("div",be,[he,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":t[4]||(t[4]=l=>s(a).year=l),type:"number",placeholder:"Tahun",class:"input input-bordered w-full"},null,8,me),[[p,s(a).year]]),s(a).errors.year?(n(),d("label",ye,[e("span",fe,r(s(a).errors.year),1)])):c("",!0)])]),e("div",ge,[xe,i(e("textarea",{readonly:s(a).processing,"onUpdate:modelValue":t[5]||(t[5]=l=>s(a).description=l),type:"text",placeholder:"Keterangan",class:"textarea textarea-bordered w-full"},null,8,ve),[[p,s(a).description]]),s(a).errors.description?(n(),d("label",ke,[e("span",we,r(s(a).errors.description),1)])):c("",!0)]),e("div",Me,[e("button",{disabled:s(a).processing,type:"submit",class:w(["btn btn-primary",s(a).processing?"loading":""])},"Save",10,Ve)])],40,W)])]),i(e("input",{type:"checkbox",id:"modal-edit","onUpdate:modelValue":t[6]||(t[6]=l=>h.value=l),class:"modal-toggle"},null,512),[[U,h.value]]),e("label",Ue,[e("label",Se,[e("h3",Be,"Ubah Data Mobil "+r(s(o).no_pol),1),e("form",{onSubmit:k(j,["prevent"])},[e("div",Ke,[e("div",Ne,[Te,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":t[7]||(t[7]=l=>s(o).name=l),type:"text",placeholder:"Merk Mobil",class:"input input-bordered w-full"},null,8,De),[[p,s(o).name]]),s(o).errors.name?(n(),d("label",je,[e("span",Pe,r(s(o).errors.name),1)])):c("",!0)]),e("div",$e,[Fe,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":t[8]||(t[8]=l=>s(o).price=l),type:"text",placeholder:"Biaya / Kg",class:"input input-bordered w-full"},null,8,Ee),[[p,s(o).price]]),s(o).errors.price?(n(),d("label",Le,[e("span",ze,r(s(o).errors.price),1)])):c("",!0)])]),e("div",Ae,[e("div",He,[Ie,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":t[9]||(t[9]=l=>s(o).no_pol=l),type:"text",placeholder:"No Polisi",class:"input input-bordered w-full"},null,8,Ge),[[p,s(o).no_pol]]),s(o).errors.no_pol?(n(),d("label",Oe,[e("span",Re,r(s(o).errors.no_pol),1)])):c("",!0)]),e("div",qe,[Je,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":t[10]||(t[10]=l=>s(o).year=l),type:"number",placeholder:"Tahun",class:"input input-bordered w-full"},null,8,Qe),[[p,s(o).year]]),s(o).errors.year?(n(),d("label",We,[e("span",Xe,r(s(o).errors.year),1)])):c("",!0)])]),e("div",Ye,[Ze,i(e("textarea",{readonly:s(o).processing,"onUpdate:modelValue":t[11]||(t[11]=l=>s(o).description=l),type:"text",placeholder:"Keterangan",class:"textarea textarea-bordered w-full"},null,8,es),[[p,s(o).description]]),s(o).errors.description?(n(),d("label",ss,[e("span",os,r(s(o).errors.description),1)])):c("",!0)]),e("div",ts,[e("button",{disabled:s(o).processing,type:"submit",class:w(["btn btn-primary",s(o).processing?"loading":""])},"Save",10,ls),e("button",{disabled:s(o).processing,onClick:k(P,["prevent"]),type:"button",class:w(["btn btn-error",s(o).processing?"loading":""])},"Delete",10,as)])],40,Ce)])]),m(I,{links:N}),m(O,{classes:"bg-base-content",class:""},{default:S(()=>[M("Data Mobil")]),_:1}),e("section",rs,[e("div",ns,[e("div",ds,[e("div",is,[e("div",cs,[i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>s(g).search=l),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[p,s(g).search]])]),e("label",{onClick:u,for:"modal-create",class:"btn modal-button"},"Tambah Mobil Baru")])])]),e("div",ps,[e("div",_s,[e("table",us,[bs,e("tbody",null,[_.cars.data.length?(n(!0),d(B,{key:0},L(_.cars.data,(l,V)=>(n(),d("tr",{class:"hover:cursor-pointer group border-b",onClick:Us=>D(V)},[e("th",ms,r(_.cars.from+V),1),e("td",ys,[e("div",null,[e("div",fs,r(l.no_pol),1),e("div",gs,r(l.name.toUpperCase()),1)])]),e("td",xs,r(l.description),1),e("td",vs,r(l.year),1),e("td",ks,r(l.price?l.price.value:0),1),e("td",ws,[m(A,{path:s(R)},null,8,["path"])])],8,hs))),256)):(n(),d("tr",Ms,[e("td",Vs,[M("No Data "),_.cars.current_page>1?(n(),C(s(H),{key:0,class:"link link-primary",href:b.route("data.car.index")},{default:S(()=>[M("Goto First Page")]),_:1},8,["href"])):c("",!0)])]))])]),_.cars.data.length?(n(),C(G,{key:0,links:_.cars.links},null,8,["links"])):c("",!0)])])])],64))}};export{Ts as default};
