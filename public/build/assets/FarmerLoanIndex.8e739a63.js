import{g as k,u as w,z as P,A as j,B as N,C as D,c as i,a as l,b as c,e as m,i as b,x as I,d as s,t as o,y as F,F as f,n as C,k as V,j as B,o as d,H as $,f as u,L as x,q as L,_ as S}from"./app.f33b5c0d.js";import{_ as T}from"./Breadcrumb.de4c8a73.js";import{_ as A}from"./PageTitle.dd8debfd.js";import{_ as M}from"./Pagination.e303f81d.js";const R={for:"modal-option",class:"modal cursor-pointer modal-lg"},H={class:"modal-box relative",for:""},U={class:"px-4 grid grid-cols-2 gap-4"},q={class:"overflow-x-auto col-span-2"},z={class:"w-full text-left text-base"},E=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"Nama"),s("th",{class:"py-3 px-6"},"Pinjaman")])],-1),J={class:"py-3 px-6"},K={class:"font-bold"},O={class:"text-sm opacity-50"},G={class:"py-3 px-6"},Q={class:"px-4 grid xl:grid-cols-4 md:grid-cols-3 gap-4 mb-4"},W={class:"form-control"},X={class:"px-4 grid gap-4"},Y={class:"w-full text-left text-base"},Z=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Nama Petani"),s("th",{class:"py-3 px-6"},"Alamat"),s("th",{class:"py-3 px-6"},"No Telepon"),s("th",{class:"py-3 px-6"},"Jarak"),s("th",{class:"py-3 px-6"},"Pinjaman"),s("th",{class:"py-3 px-6"})])],-1),ss=["onClick"],as={class:"group-hover:bg-base-300 py-4 px-6"},es={class:"group-hover:bg-base-300 py-4 px-6"},ts={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},os={class:"max-w-xs"},ns={class:"group-hover:bg-base-300 py-4 px-6"},rs={class:"group-hover:bg-base-300 py-4 px-6"},ls={class:"group-hover:bg-base-300 py-4 px-6"},cs={class:"group-hover:bg-base-300 py-4 px-6"},ds={key:1},is=s("td",{colspan:"5",class:"text-center border-b-2"},"No Data",-1),ps=[is],fs={__name:"FarmerLoanIndex",props:{search:String,farmers:Object},setup(g){const n=g,p=k(!1),h=w({search:n.search});P(h,j.exports.debounce(r=>{N.Inertia.get(route("transaction.loan.farmer.index"),{search:r.search},{preserveState:!0,replace:!0})},500));const a=D({id:0,name:"",phone:"",address:"",distance:"",loan:""}),y=[{url:route("transaction.index"),label:"Transaksi"},{url:null,label:"Pinjaman Petani"}],v=function(r){let e=n.farmers.data[r];a.id=e.id,a.name=e.name,a.phone=e.phone,a.address=e.address,a.distance=e.distance,a.loan=e.loan?e.loan.balance:0,p.value=!0};return(r,e)=>(d(),i(f,null,[l(c($),{title:"Pinjaman Petani"}),l(T,{links:y}),l(A,{classes:"bg-base-content"},{default:m(()=>[u("Pinjaman Petani")]),_:1}),b(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),class:"modal-toggle"},null,512),[[I,p.value]]),s("label",R,[s("label",H,[s("span",U,[s("span",q,[s("table",z,[E,s("tbody",null,[s("tr",null,[s("td",J,[s("div",K,o(a.name),1),s("div",O,o(a.phone),1)]),s("td",G,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a.loan)),1)])])])]),l(c(x),{as:"button",href:a.id?r.route("transaction.loan.farmer.show",a.id):"",class:"btn btn-xl btn-success btn-block pt-10 pb-14"},{default:m(()=>[u("Pengajuan Pinjaman")]),_:1},8,["href"]),l(c(x),{as:"button",disabled:a.loan<1,href:a.id?r.route("transaction.loan.farmer.edit",a.id):"",class:"btn btn-xl btn-warning btn-block pt-10 pb-14"},{default:m(()=>[u("Pembayaran Pinjaman")]),_:1},8,["disabled","href"])])])]),s("section",Q,[s("div",W,[b(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>c(h).search=t),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[F,c(h).search]])])]),s("section",X,[s("div",null,[s("table",Y,[Z,s("tbody",null,[n.farmers.data.length?(d(!0),i(f,{key:0},C(n.farmers.data,(t,_)=>(d(),i("tr",{class:"hover:cursor-pointer group border-b",onClick:hs=>v(_)},[s("th",as,o(n.farmers.from+_),1),s("td",es,o(t.name),1),s("td",ts,[s("p",os,o(t.address),1)]),s("td",ns,o(t.phone),1),s("td",rs,o(t.distance)+" Km",1),s("td",ls,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.loan?t.loan.balance:0)),1),s("td",cs,[l(S,{path:c(L)},null,8,["path"])])],8,ss))),256)):(d(),i("tr",ds,ps))])]),n.farmers.data.length?(d(),V(M,{key:0,links:n.farmers.links},null,8,["links"])):B("",!0)])])],64))}};export{fs as default};
