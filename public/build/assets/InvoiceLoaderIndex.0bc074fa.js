import{g as y,u as N,c,a as n,b as o,e as f,i as u,x as j,d as t,_ as p,f as h,y as v,F as k,n as C,j as w,k as L,o as i,H as V,Q as M,L as U,R as $,t as l,q as B}from"./app.f33b5c0d.js";import{_ as R}from"./Breadcrumb.de4c8a73.js";import{_ as S}from"./PageTitle.dd8debfd.js";import{_ as G}from"./Pagination.e303f81d.js";const H={class:"modal modal-bottom sm:modal-middle"},P={class:"modal-box"},q=t("h3",{class:"font-bold text-lg"},"Lanjutkan proses perhitungan upah muat",-1),K=t("p",{class:"py-4"},"Klik Lihat Perhitungan upah muat, untuk mengetahui rincian dan total upah muat yang akan diterima",-1),O={class:"modal-action flex justify-between"},A={class:"px-4 grid gap-4"},E={class:"card w-full rounded-none border-2 border-info shadow-xl"},J={class:"card-body grid md:grid-cols-4 gap-4"},Q={class:"form-control w-full"},z=t("label",{class:"label"},[t("span",{class:"label-text"},"Dari Tanggal")],-1),W={class:"form-control w-full"},X=t("label",{class:"label"},[t("span",{class:"label-text"},"Sampai Tanggal")],-1),Y={class:"grid grid-cols-2 gap-4 py-1"},Z=["disabled"],tt=["disabled"],at={class:"card w-full rounded-none border-2 border-info shadow-xl"},et={class:"card-body"},st={class:"w-full text-left text-base"},ot=t("thead",{class:"text-sm uppercase bg-primary/20"},[t("tr",null,[t("th",{class:"py-3 px-6"},"#"),t("th",{class:"py-3 px-6"},"Tanggal"),t("th",{class:"py-3 px-6"},"Mobil / Supir"),t("th",{class:"py-3 px-6 text-center"},"Jumlah"),t("th",{class:"py-3 px-6 text-right"},"Tonase"),t("th",{class:"py-3 px-6 text-right"},"Gaji (Rp / Kg)"),t("th",{class:"py-3 px-6 text-right"},"Total"),t("th",{class:"py-3 px-6"})])],-1),lt={class:"hover:cursor-pointer group border-b"},nt={class:"group-hover:bg-base-300 py-4 px-6"},rt={class:"group-hover:bg-base-300 py-4 px-6"},dt={class:"group-hover:bg-base-300 py-4 px-6"},it={class:"font-bold"},ct={class:"text-sm opacity-50"},ut={class:"group-hover:bg-base-300 py-4 px-6 text-center"},pt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ht={class:"group-hover:bg-base-300 py-4 px-6 text-right"},_t={class:"group-hover:bg-base-300 py-4 px-6 text-right"},bt={class:"group-hover:bg-base-300 py-4 px-6"},ft={__name:"InvoiceLoaderIndex",props:{loader_id:Number,price:Number,dates:Object,trades:Object},setup(D){var _,b;const a=D,d=y(!1);y();const I=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.invoice.index"),label:"Invoice"},{url:null,label:"Upah Muat"}],r=N({start_date:(_=a.dates.start)!=null?_:null,end_date:(b=a.dates.end)!=null?b:null}),F=()=>{r.get(route("transaction.invoice.loader.index"))};return(m,s)=>(i(),c(k,null,[n(o(V),{title:"Upah Muat"}),n(R,{links:I}),n(S,{classes:"bg-base-content"},{default:f(()=>[h("Upah Muat")]),_:1}),u(t("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),class:"modal-toggle"},null,512),[[j,d.value]]),t("div",H,[t("div",P,[q,K,t("div",O,[n(o(U),{as:"button",disabled:!a.dates.start||!a.dates.end,href:a.dates.start||a.dates.end?m.route("transaction.invoice.loader.show",{loader:a.loader_id,_query:{start:a.dates.start,end:a.dates.end}}):m.route("transaction.invoice.loader.index"),class:"btn btn-primary"},{default:f(()=>[n(p,{path:o(M)},null,8,["path"]),h(" Lihat Perhitungan Gaji")]),_:1},8,["disabled","href"]),t("button",{type:"button",onClick:s[1]||(s[1]=e=>d.value=!1),class:"btn btn-warning"},[n(p,{path:o($)},null,8,["path"]),h(" Batal")])])])]),t("section",A,[t("div",E,[t("div",J,[t("div",Q,[z,u(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>o(r).start_date=e),type:"date",placeholder:"Dari Tanggal",class:"input input-bordered w-full"},null,512),[[v,o(r).start_date]])]),t("div",W,[X,u(t("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>o(r).end_date=e),type:"date",placeholder:"Sampai Tanggal",class:"input input-bordered w-full"},null,512),[[v,o(r).end_date]])]),t("div",Y,[t("button",{disabled:o(r).processing,onClick:F,class:"btn mt-8"},"Filter",8,Z),t("button",{disabled:!a.dates.start||!a.dates.end,onClick:s[4]||(s[4]=e=>d.value=!0),class:"btn btn-primary mt-8"},"Hitung Gaji",8,tt)])])]),t("div",at,[t("div",et,[t("table",st,[ot,t("tbody",null,[a.trades.data.length?(i(!0),c(k,{key:0},C(a.trades.data,(e,T)=>{var g,x;return i(),c("tr",lt,[t("th",nt,l(a.trades.from+T),1),t("td",rt,l(e.trade_date),1),t("td",dt,[t("div",null,[t("div",it,l(e.car.no_pol)+" - "+l(e.car.name),1),t("div",ct,l(e.driver.name),1)])]),t("td",ut,l(e.details.length)+" Petani",1),t("td",pt,l(Intl.NumberFormat("id-ID",{style:"unit",unit:"kilogram"}).format(e.net_weight)),1),t("td",ht,l(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format((g=a.price)!=null?g:0)),1),t("td",_t,l(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(((x=a.price)!=null?x:0)*e.net_weight)),1),t("td",bt,[n(p,{path:o(B)},null,8,["path"])])])}),256)):w("",!0)])]),a.trades.data.length?(i(),L(G,{key:0,links:a.trades.links},null,8,["links"])):w("",!0)])])])],64))}};export{ft as default};
