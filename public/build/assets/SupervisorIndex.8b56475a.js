import{g,u as k,z as G,A as R,B as $,c as d,a as u,b as s,i as p,x as U,d as e,w,y as _,t as r,j as i,s as N,e as V,F as j,n as E,f,k as D,o as n,H as L,_ as P,L as z}from"./app.1b38ef22.js";import{_ as H}from"./Breadcrumb.cb73cb46.js";import{_ as K}from"./Pagination.9194b4da.js";import{_ as O}from"./PageTitle.0dcaf6ba.js";import{s as M}from"./library.2a2b5b59.js";import{m as q}from"./mdi.ef20bf61.js";const J={for:"modal-create",class:"modal cursor-pointer"},Q={class:"modal-box relative",for:""},W=e("h3",{class:"font-bold text-lg"},"Tambah Data Mandor",-1),X=["onSubmit"],Y={class:"form-control w-full"},Z=e("label",{class:"label"},"Nama Mandor",-1),ee=["readonly"],se={key:0,class:"label"},oe={class:"label-text-alt text-error"},te={class:"grid md:grid-cols-2 gap-4"},ae={class:"form-control w-full"},le=e("label",{class:"label"},"Gaji (Bulan)",-1),re={key:0,class:"label"},ne={class:"label-text-alt text-error"},de={class:"form-control w-full"},ie=e("label",{class:"label"},"No Telepon",-1),ce=["readonly"],pe={key:0,class:"label"},ue={class:"label-text-alt text-error"},_e={class:"form-control w-full"},be=e("label",{class:"label"},"Alamat",-1),he=["readonly"],me={key:0,class:"label"},fe={class:"label-text-alt text-error"},ve={class:"form-control w-full"},xe=e("label",{class:"label"},[f("Pinjaman Awal "),e("span",{class:"text-xs"},"Kosongkan bila tidak ada")],-1),ye={key:0,class:"label"},ge={class:"labelP-alt text-error"},ke={class:"flex justify-between mt-10"},we=["disabled"],Ne={for:"modal-edit",class:"modal cursor-pointer"},Me={class:"modal-box relative",for:""},Se={class:"font-bold text-lg"},Ue=["onSubmit"],Ve={class:"form-control w-full"},je=e("label",{class:"label"},"Nama Mandor",-1),De=["readonly"],Be={key:0,class:"label"},Ce={class:"label-text-alt text-error"},Te={class:"grid md:grid-cols-2 gap-4"},Ae={class:"form-control w-full"},Ie=e("label",{class:"label"},"Gaji (Bulan)",-1),Fe={key:0,class:"label"},Ge={class:"label-text-alt text-error"},Re={class:"form-control w-full"},$e=e("label",{class:"label"},"No Telepon",-1),Ee=["readonly"],Le={key:0,class:"label"},Pe={class:"label-text-alt text-error"},ze={class:"form-control w-full"},He=e("label",{class:"label"},"Alamat",-1),Ke=["readonly"],Oe={key:0,class:"label"},qe={class:"label-text-alt text-error"},Je={class:"flex justify-between mt-10"},Qe=["disabled"],We=["disabled","onClick"],Xe={class:"px-4 grid gap-4"},Ye={class:"card w-full rounded-none border-2 border-info shadow-xl"},Ze={class:"card-body grid gap-4"},es={class:"flex justify-between items-center mb-4"},ss={class:"form-control"},os={class:"card w-full rounded-none border-2 border-info shadow-xl"},ts={class:"card-body grid gap-4"},as={class:"w-full text-left text-base"},ls=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Nama Mandor"),e("th",{class:"py-3 px-6"},"No Telepon"),e("th",{class:"py-3 px-6"},"Alamat"),e("th",{class:"py-3 px-6"},"Gaji"),e("th",{class:"py-3 px-6"})])],-1),rs=["onClick"],ns={class:"group-hover:bg-base-300 py-4 px-6"},ds={class:"group-hover:bg-base-300 py-4 px-6"},is={class:"group-hover:bg-base-300 py-4 px-6"},cs={class:"group-hover:bg-base-300 py-4 px-6"},ps={class:"group-hover:bg-base-300 py-4 px-6"},us={class:"group-hover:bg-base-300 py-4 px-6"},_s={key:1},bs={colspan:"6",class:"text-center border-b-2"},ks={__name:"SupervisorIndex",props:{price:Number,search:String,supervisors:{type:Object}},setup(B){const c=B,C=[{url:route("data.index"),label:"Data"},{url:null,label:"Mandor"}],v=g(!1),m=g(!1),x=g(null),t=k({name:"",loan:0,price:c.price,phone:"",address:""}),o=k({name:"",price:c.price,phone:"",address:""}),y=k({search:c.search});G(y,R.exports.debounce(h=>{$.Inertia.get(route("data.supervisor.index"),{search:h.search},{preserveState:!0,replace:!0})},500));const T=()=>{t.post(route("data.supervisor.store"),{onSuccess:()=>{b()}})},A=h=>{b();let a=c.supervisors.data[h];x.value=a.id,o.name=a.name,o.price=a.price?a.price.value:0,o.address=a.address,o.phone=a.phone,m.value=!0},I=()=>{o.patch(route("data.supervisor.update",x.value),{onSuccess:()=>{b()}})},b=()=>{o.clearErrors(),t.clearErrors(),o.reset(),t.reset(),o.defaults({name:null,address:null,phone:null}),t.defaults({name:null,loan:0,address:null,phone:null}),m.value=!1,v.value=!1},F=()=>{o.delete(route("data.supervisor.destroy",x.value),{onSuccess:()=>{b()}})};return(h,a)=>(n(),d(j,null,[u(s(L),{title:"Mandor"}),p(e("input",{type:"checkbox",id:"modal-create","onUpdate:modelValue":a[0]||(a[0]=l=>v.value=l),class:"modal-toggle"},null,512),[[U,v.value]]),e("label",J,[e("label",Q,[W,e("form",{onSubmit:w(T,["prevent"])},[e("div",Y,[Z,p(e("input",{readonly:s(t).processing,"onUpdate:modelValue":a[1]||(a[1]=l=>s(t).name=l),type:"text",placeholder:"Nama Mandor",class:"input input-bordered w-full"},null,8,ee),[[_,s(t).name]]),s(t).errors.name?(n(),d("label",se,[e("span",oe,r(s(t).errors.name),1)])):i("",!0)]),e("div",te,[e("div",ae,[le,u(s(M),{readonly:s(t).processing,options:{precision:0,prefix:"Rp ",isInteger:!0},value:s(t).price,"onUpdate:value":a[2]||(a[2]=l=>s(t).price=l),placeholder:"Gaji (Bulan)",class:"input input-bordered w-full"},null,8,["readonly","value"]),s(t).errors.price?(n(),d("label",re,[e("span",ne,r(s(t).errors.price),1)])):i("",!0)]),e("div",de,[ie,p(e("input",{readonly:s(t).processing,"onUpdate:modelValue":a[3]||(a[3]=l=>s(t).phone=l),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,ce),[[_,s(t).phone]]),s(t).errors.phone?(n(),d("label",pe,[e("span",ue,r(s(t).errors.phone),1)])):i("",!0)])]),e("div",_e,[be,p(e("textarea",{readonly:s(t).processing,"onUpdate:modelValue":a[4]||(a[4]=l=>s(t).address=l),type:"text",placeholder:"Alamat",class:"textarea textarea-bordered w-full"},null,8,he),[[_,s(t).address]]),s(t).errors.address?(n(),d("label",me,[e("span",fe,r(s(t).errors.address),1)])):i("",!0)]),e("div",ve,[xe,u(s(M),{options:{precision:0,prefix:"Rp ",isInteger:!0},readonly:s(t).processing,value:s(t).loan,"onUpdate:value":a[5]||(a[5]=l=>s(t).loan=l),class:"input input-bordered w-full"},null,8,["readonly","value"]),s(t).errors.loan?(n(),d("label",ye,[e("span",ge,r(s(t).errors.loan),1)])):i("",!0)]),e("div",ke,[e("button",{disabled:s(t).processing,type:"submit",class:N(["btn btn-primary",s(t).processing?"loading":""])},"Save",10,we)])],40,X)])]),p(e("input",{type:"checkbox",id:"modal-edit","onUpdate:modelValue":a[6]||(a[6]=l=>m.value=l),class:"modal-toggle"},null,512),[[U,m.value]]),e("label",Ne,[e("label",Me,[e("h3",Se,"Ubah Data Mandor "+r(s(o).name),1),e("form",{onSubmit:w(I,["prevent"])},[e("div",Ve,[je,p(e("input",{readonly:s(o).processing,"onUpdate:modelValue":a[7]||(a[7]=l=>s(o).name=l),type:"text",placeholder:"Nama Mandor",class:"input input-bordered w-full"},null,8,De),[[_,s(o).name]]),s(o).errors.name?(n(),d("label",Be,[e("span",Ce,r(s(o).errors.name),1)])):i("",!0)]),e("div",Te,[e("div",Ae,[Ie,u(s(M),{readonly:s(o).processing,options:{precision:0,prefix:"Rp ",isInteger:!0},value:s(o).price,"onUpdate:value":a[8]||(a[8]=l=>s(o).price=l),placeholder:"Gaji (Bulan)",class:"input input-bordered w-full"},null,8,["readonly","value"]),s(o).errors.price?(n(),d("label",Fe,[e("span",Ge,r(s(o).errors.price),1)])):i("",!0)]),e("div",Re,[$e,p(e("input",{readonly:s(o).processing,"onUpdate:modelValue":a[9]||(a[9]=l=>s(o).phone=l),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,Ee),[[_,s(o).phone]]),s(o).errors.phone?(n(),d("label",Le,[e("span",Pe,r(s(o).errors.phone),1)])):i("",!0)])]),e("div",ze,[He,p(e("textarea",{readonly:s(o).processing,"onUpdate:modelValue":a[10]||(a[10]=l=>s(o).address=l),type:"text",placeholder:"Alamat",class:"textarea textarea-bordered w-full"},null,8,Ke),[[_,s(o).address]]),s(o).errors.address?(n(),d("label",Oe,[e("span",qe,r(s(o).errors.address),1)])):i("",!0)]),e("div",Je,[e("button",{disabled:s(o).processing,type:"submit",class:N(["btn btn-primary",s(o).processing?"loading":""])},"Save",10,Qe),e("button",{disabled:s(o).processing,onClick:w(F,["prevent"]),type:"button",class:N(["btn btn-error",s(o).processing?"loading":""])},"Delete",10,We)])],40,Ue)])]),u(H,{links:C}),u(O,{classes:"bg-base-content",class:""},{default:V(()=>[f("Data Mandor")]),_:1}),e("section",Xe,[e("div",Ye,[e("div",Ze,[e("div",es,[e("div",ss,[p(e("input",{"onUpdate:modelValue":a[11]||(a[11]=l=>s(y).search=l),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[_,s(y).search]])]),e("label",{onClick:b,for:"modal-create",class:"btn modal-button"},"Tambah Mandor Baru")])])]),e("div",os,[e("div",ts,[e("table",as,[ls,e("tbody",null,[c.supervisors.data.length?(n(!0),d(j,{key:0},E(c.supervisors.data,(l,S)=>(n(),d("tr",{class:"hover:cursor-pointer group border-b",onClick:hs=>A(S)},[e("th",ns,r(c.supervisors.from+S),1),e("td",ds,r(l.name),1),e("td",is,r(l.phone),1),e("td",cs,r(l.address),1),e("td",ps,r(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l.price?l.price.value:0)),1),e("td",us,[u(P,{path:s(q)},null,8,["path"])])],8,rs))),256)):(n(),d("tr",_s,[e("td",bs,[f("No Data "),c.supervisors.current_page>1?(n(),D(s(z),{key:0,class:"link link-primary",href:h.route("data.supervisor.index")},{default:V(()=>[f("Goto First Page")]),_:1},8,["href"])):i("",!0)])]))])]),c.supervisors.data.length?(n(),D(K,{key:0,links:c.supervisors.links},null,8,["links"])):i("",!0)])])])],64))}};export{ks as default};
