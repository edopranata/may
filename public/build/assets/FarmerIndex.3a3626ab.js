import{g as v,u as k,z as J,A as M,B as $,c as d,a as m,b as s,i,x as V,d as e,w,y as p,t as r,j as c,s as P,e as S,F as U,n as K,f,k as C,o as n,H as E,_ as I,L}from"./app.1b38ef22.js";import{_ as z}from"./Breadcrumb.cb73cb46.js";import{_ as H}from"./Pagination.9194b4da.js";import{_ as R}from"./PageTitle.0dcaf6ba.js";import{s as G}from"./library.2a2b5b59.js";import{m as O}from"./mdi.ef20bf61.js";const q={for:"modal-create",class:"modal cursor-pointer"},Q={class:"modal-box relative",for:""},W=e("h3",{class:"font-bold text-lg"},"Tambah Data Petani",-1),X=["onSubmit"],Y={class:"form-control w-full"},Z=e("label",{class:"label"},"Nama Petani",-1),ee=["readonly"],se={key:0,class:"label"},te={class:"label-text-alt text-error"},ae={class:"grid md:grid-cols-3 gap-4"},oe={class:"form-control w-full col-span-2"},le=e("label",{class:"label"},"No Telepon",-1),re=["readonly"],ne={key:0,class:"label"},de={class:"label-text-alt text-error"},ie={class:"form-control w-full"},ce=e("label",{class:"label"},"Jarak (KM)",-1),pe=["readonly"],ue={key:0,class:"label"},_e={class:"label-text-alt text-error"},be={class:"form-control w-full"},me=e("label",{class:"label"},"Alamat Petani",-1),he=["readonly"],fe={key:0,class:"label"},xe={class:"label-text-alt text-error"},ye={class:"form-control w-full"},ge=e("label",{class:"label"},[f("Pinjaman Awal "),e("span",{class:"text-xs"},"Kosongkan bila tidak ada")],-1),ve={key:0,class:"label"},ke={class:"labelP-alt text-error"},we={class:"flex justify-between mt-10"},Pe=["disabled"],Ne={for:"modal-edit",class:"modal cursor-pointer"},Ve={class:"modal-box relative",for:""},Se={class:"font-bold text-lg"},Ue=["onSubmit"],Ce={class:"form-control w-full"},Te=e("label",{class:"label"},"Nama Petani",-1),Ae=["readonly"],De={key:0,class:"label"},je={class:"label-text-alt text-error"},Be={class:"grid md:grid-cols-3 gap-4"},Fe={class:"form-control w-full col-span-2"},Je=e("label",{class:"label"},"No Telepon",-1),Me=["readonly"],$e={key:0,class:"label"},Ke={class:"label-text-alt text-error"},Ee={class:"form-control w-full"},Ie=e("label",{class:"label"},"Jarak (KM)",-1),Le=["readonly"],ze={key:0,class:"label"},He={class:"label-text-alt text-error"},Re={class:"form-control w-full"},Ge=e("label",{class:"label"},"Alamat Petani",-1),Oe=["readonly"],qe={key:0,class:"label"},Qe={class:"label-text-alt text-error"},We={class:"flex justify-between mt-10"},Xe=["disabled"],Ye=["disabled","onClick"],Ze={class:"px-4 grid gap-4"},es={class:"card w-full rounded-none border-2 border-info shadow-xl"},ss={class:"card-body grid gap-4"},ts={class:"flex justify-between items-center mb-4"},as={class:"form-control"},os={class:"card w-full rounded-none border-2 border-info shadow-xl"},ls={class:"card-body grid gap-4"},rs={class:"w-full text-left text-base"},ns=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Nama Petani"),e("th",{class:"py-3 px-6"},"Alamat"),e("th",{class:"py-3 px-6"},"No Telepon"),e("th",{class:"py-3 px-6"},"Jarak"),e("th",{class:"py-3 px-6"})])],-1),ds=["onClick"],is={class:"group-hover:bg-base-300 py-4 px-6"},cs={class:"group-hover:bg-base-300 py-4 px-6"},ps={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},us={class:"max-w-xs"},_s={class:"group-hover:bg-base-300 py-4 px-6"},bs={class:"group-hover:bg-base-300 py-4 px-6"},ms={class:"group-hover:bg-base-300 py-4 px-6"},hs={key:1},fs={colspan:"6",class:"text-center border-b-2"},Ns={__name:"FarmerIndex",props:{search:String,farmers:{type:Object}},setup(T){const u=T,A=[{url:route("data.index"),label:"Data"},{url:null,label:"Petani"}],x=v(!1),h=v(!1),y=v(null),a=k({name:"",loan:0,phone:"",address:"",distance:""}),t=k({name:"",phone:"",address:"",distance:""}),g=k({search:u.search});J(g,M.exports.debounce(function(b){$.Inertia.get(route("data.farmer.index"),{search:b.search},{preserveState:!0,replace:!0})},500),{deep:!0});const D=()=>{a.post(route("data.farmer.store"),{onSuccess:()=>{_()}})},j=b=>{_();let o=u.farmers.data[b];y.value=o.id,t.name=o.name,t.address=o.address,t.phone=o.phone,t.distance=o.distance,h.value=!0},B=()=>{t.patch(route("data.farmer.update",y.value),{onSuccess:()=>{_()}})},_=()=>{t.clearErrors(),a.clearErrors(),t.reset(),a.reset(),t.defaults({name:null,address:null,phone:null,distance:null}),a.defaults({name:null,loan:0,address:null,phone:null,distance:null}),h.value=!1,x.value=!1},F=()=>{t.delete(route("data.farmer.destroy",y.value),{onSuccess:()=>{_()}})};return(b,o)=>(n(),d(U,null,[m(s(E),{title:"Petani"}),i(e("input",{type:"checkbox",id:"modal-create","onUpdate:modelValue":o[0]||(o[0]=l=>x.value=l),class:"modal-toggle"},null,512),[[V,x.value]]),e("label",q,[e("label",Q,[W,e("form",{onSubmit:w(D,["prevent"])},[e("div",Y,[Z,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":o[1]||(o[1]=l=>s(a).name=l),type:"text",placeholder:"Nama Petani",class:"input input-bordered w-full"},null,8,ee),[[p,s(a).name]]),s(a).errors.name?(n(),d("label",se,[e("span",te,r(s(a).errors.name),1)])):c("",!0)]),e("div",ae,[e("div",oe,[le,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":o[2]||(o[2]=l=>s(a).phone=l),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,re),[[p,s(a).phone]]),s(a).errors.phone?(n(),d("label",ne,[e("span",de,r(s(a).errors.phone),1)])):c("",!0)]),e("div",ie,[ce,i(e("input",{readonly:s(a).processing,"onUpdate:modelValue":o[3]||(o[3]=l=>s(a).distance=l),type:"number",placeholder:"Jarak",class:"input input-bordered w-full"},null,8,pe),[[p,s(a).distance]]),s(a).errors.distance?(n(),d("label",ue,[e("span",_e,r(s(a).errors.distance),1)])):c("",!0)])]),e("div",be,[me,i(e("textarea",{readonly:s(a).processing,"onUpdate:modelValue":o[4]||(o[4]=l=>s(a).address=l),type:"text",placeholder:"Alamat Petani",class:"textarea textarea-bordered w-full"},null,8,he),[[p,s(a).address]]),s(a).errors.address?(n(),d("label",fe,[e("span",xe,r(s(a).errors.address),1)])):c("",!0)]),e("div",ye,[ge,m(s(G),{options:{precision:0,prefix:"Rp ",isInteger:!0},readonly:s(a).processing,value:s(a).loan,"onUpdate:value":o[5]||(o[5]=l=>s(a).loan=l),class:"input input-bordered w-full"},null,8,["readonly","value"]),s(a).errors.loan?(n(),d("label",ve,[e("span",ke,r(s(a).errors.loan),1)])):c("",!0)]),e("div",we,[e("button",{disabled:s(a).processing,type:"submit",class:P(["btn btn-primary",s(a).processing?"loading":""])},"Save",10,Pe)])],40,X)])]),i(e("input",{type:"checkbox",id:"modal-edit","onUpdate:modelValue":o[6]||(o[6]=l=>h.value=l),class:"modal-toggle"},null,512),[[V,h.value]]),e("label",Ne,[e("label",Ve,[e("h3",Se,"Ubah Data Petani "+r(s(t).name),1),e("form",{onSubmit:w(B,["prevent"])},[e("div",Ce,[Te,i(e("input",{readonly:s(t).processing,"onUpdate:modelValue":o[7]||(o[7]=l=>s(t).name=l),type:"text",placeholder:"Nama Petani",class:"input input-bordered w-full"},null,8,Ae),[[p,s(t).name]]),s(t).errors.name?(n(),d("label",De,[e("span",je,r(s(t).errors.name),1)])):c("",!0)]),e("div",Be,[e("div",Fe,[Je,i(e("input",{readonly:s(t).processing,"onUpdate:modelValue":o[8]||(o[8]=l=>s(t).phone=l),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,Me),[[p,s(t).phone]]),s(t).errors.phone?(n(),d("label",$e,[e("span",Ke,r(s(t).errors.phone),1)])):c("",!0)]),e("div",Ee,[Ie,i(e("input",{readonly:s(t).processing,"onUpdate:modelValue":o[9]||(o[9]=l=>s(t).distance=l),type:"number",placeholder:"Jarak",class:"input input-bordered w-full"},null,8,Le),[[p,s(t).distance]]),s(t).errors.distance?(n(),d("label",ze,[e("span",He,r(s(t).errors.distance),1)])):c("",!0)])]),e("div",Re,[Ge,i(e("textarea",{readonly:s(t).processing,"onUpdate:modelValue":o[10]||(o[10]=l=>s(t).address=l),type:"text",placeholder:"Alamat Petani",class:"textarea textarea-bordered w-full"},null,8,Oe),[[p,s(t).address]]),s(t).errors.address?(n(),d("label",qe,[e("span",Qe,r(s(t).errors.address),1)])):c("",!0)]),e("div",We,[e("button",{disabled:s(t).processing,type:"submit",class:P(["btn btn-primary",s(t).processing?"loading":""])},"Save",10,Xe),e("button",{disabled:s(t).processing,onClick:w(F,["prevent"]),type:"button",class:P(["btn btn-error",s(t).processing?"loading":""])},"Delete",10,Ye)])],40,Ue)])]),m(z,{links:A}),m(R,{classes:"bg-base-content",class:""},{default:S(()=>[f("Data Petani")]),_:1}),e("section",Ze,[e("div",es,[e("div",ss,[e("div",ts,[e("div",as,[i(e("input",{"onUpdate:modelValue":o[11]||(o[11]=l=>s(g).search=l),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[p,s(g).search]])]),e("label",{onClick:_,for:"modal-create",class:"btn modal-button"},"Tambah Petani Baru")])])]),e("div",os,[e("div",ls,[e("table",rs,[ns,e("tbody",null,[u.farmers.data.length?(n(!0),d(U,{key:0},K(u.farmers.data,(l,N)=>(n(),d("tr",{class:"hover:cursor-pointer group border-b",onClick:xs=>j(N)},[e("th",is,r(u.farmers.from+N),1),e("td",cs,r(l.name),1),e("td",ps,[e("p",us,r(l.address),1)]),e("td",_s,r(l.phone),1),e("td",bs,r(l.distance)+" Km",1),e("td",ms,[m(I,{path:s(O)},null,8,["path"])])],8,ds))),256)):(n(),d("tr",hs,[e("td",fs,[f("No Data "),u.farmers.current_page>1?(n(),C(s(L),{key:0,class:"link link-primary",href:b.route("data.farmer.index")},{default:S(()=>[f("Goto First Page")]),_:1},8,["href"])):c("",!0)])]))])]),u.farmers.data.length?(n(),C(H,{key:0,links:u.farmers.links},null,8,["links"])):c("",!0)])])])],64))}};export{Ns as default};
