import{u as f,C as v,h as D,c as l,a as p,b as s,d as e,i as b,I,F as m,n as y,t as n,j as h,y as F,e as N,o as i,H as k,_ as R,J as w,f as T,L}from"./app.1b38ef22.js";import{_ as V}from"./Breadcrumb.cb73cb46.js";const B={class:"px-4 grid gap-4"},C={class:"card w-full rounded-none border-2 border-info shadow-xl"},P={class:"card-body"},M={class:"grid md:grid-cols-4"},S={class:"form-control p-1"},$=e("label",{class:"label"},[e("span",{class:"label-text"},"Bulan")],-1),A=["disabled"],H=e("option",{value:"0"},"Bulan",-1),U=["value"],j={key:0,class:"label"},E={class:"label-text-alt text-error"},J={class:"form-control p-1"},q=e("label",{class:"label"},[e("span",{class:"label-text"},"Tahun")],-1),z=["disabled"],G={key:0,class:"label"},K={class:"label-text-alt text-error"},O={class:"form-control p-1"},Q=e("label",{class:"label"},[e("span",{class:"label-text"},"\xA0")],-1),W={class:"flex space-x-4"},X=e("div",{class:"hidden badge-primary badge-secondary badge badge-accent badge-ghost badge-info badge-error"},null,-1),Y={class:"card w-full rounded-none border-2 border-info shadow-xl"},Z={class:"card-body grid md:grid-cols-3 gap-4"},ee={class:"w-full text-left text-base md:col-span-2"},te=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Tanggal"),e("th",{class:"py-3 px-6 text-right"},"Pemasukan"),e("th",{class:"py-3 px-6 text-right"},"Pengeluaran"),e("th",{class:"py-3 px-6 text-right"},"Laba / Rugi")])],-1),se={class:"hover:cursor-pointer group border-b"},oe={class:"group-hover:bg-base-300 py-4 px-6"},re={class:"group-hover:bg-base-300 py-4 px-6"},ne={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ae={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ce={class:"group-hover:bg-base-300 py-4 px-6 text-right"},le={key:1},ie=e("td",{colspan:"5",class:"text-center border-b-2"},"No Data",-1),de=[ie],ue={class:"bg-primary/20"},pe={key:0},me=e("th",{class:"py-4 px-6"},null,-1),he=e("th",{class:"py-4 px-6"},"Total",-1),_e={class:"py-4 px-6 text-right"},be={class:"py-4 px-6 text-right"},ye={class:"py-4 px-6 text-right"},fe={__name:"ReportIncomeIndex",props:{incomes:Array,types:Array,year:Number,month:Number},setup(g){const a=g,x=[{url:null,label:"Laporan"}],o=f({year:a.year,month:a.month}),d=v({income:Number,expense:Number});D(()=>{_()});const _=()=>{let u=a.incomes.reduce((t,r)=>(t.push(r.income),t),[]);console.info(u),d.income=u.reduce((t,r)=>t+=r,0);let c=a.incomes.reduce((t,r)=>(t.push(r.expense),t),[]);d.expense=c.reduce((t,r)=>t+=r,0)};return(u,c)=>(i(),l(m,null,[p(s(k),{title:"Laporan"}),p(V,{links:x}),e("section",B,[e("div",C,[e("div",P,[e("div",M,[e("div",S,[$,b(e("select",{disabled:s(o).processing,"onUpdate:modelValue":c[0]||(c[0]=t=>s(o).month=t),class:"select select-info select-bordered"},[H,(i(),l(m,null,y(12,(t,r)=>e("option",{value:t,key:r},n(t),9,U)),64))],8,A),[[I,s(o).month]]),s(o).errors.month?(i(),l("label",j,[e("span",E,n(s(o).errors.month),1)])):h("",!0)]),e("div",J,[q,b(e("input",{disabled:s(o).processing,"onUpdate:modelValue":c[1]||(c[1]=t=>s(o).year=t),type:"number",placeholder:"Tahun",class:"input input-info input-bordered"},null,8,z),[[F,s(o).year]]),s(o).errors.year?(i(),l("label",G,[e("span",K,n(s(o).errors.year),1)])):h("",!0)]),e("div",O,[Q,e("div",W,[e("button",{type:"button",class:"btn",onClick:c[2]||(c[2]=t=>s(o).post(u.route("report.income.index"),{onSuccess:()=>{_()}}))},"Filter "),p(s(L),{disabled:a.incomes.length<1,as:"button",class:"btn",href:u.route("print.income.index"),data:{month:s(o).month,year:s(o).year}},{default:N(()=>[p(R,{path:s(w)},null,8,["path"]),T(" Print ")]),_:1},8,["disabled","href","data"])])])])])]),X,e("div",Y,[e("div",Z,[e("table",ee,[te,e("tbody",null,[a.incomes.length>0?(i(!0),l(m,{key:0},y(a.incomes,(t,r)=>(i(),l("tr",se,[e("th",oe,n(r+1),1),e("th",re,n(t.date),1),e("td",ne,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.income)),1),e("td",ae,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.expense)),1),e("td",ce,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.net_income)),1)]))),256)):(i(),l("tr",le,de))]),e("tfoot",ue,[a.incomes.length>0?(i(),l("tr",pe,[me,he,e("th",_e,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d.income)),1),e("th",be,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d.expense)),1),e("th",ye,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d.income-d.expense)),1)])):h("",!0)])])])])])],64))}};export{fe as default};
