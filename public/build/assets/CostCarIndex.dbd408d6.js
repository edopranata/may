import{g as x,u as C,c as r,a as d,b as e,e as N,i as p,x as B,d as s,_ as y,f as h,y as m,t as l,j as c,I as f,F as _,n as v,k as M,o as n,H as V,Q as T,R as U}from"./app.f33b5c0d.js";import{_ as F}from"./Breadcrumb.de4c8a73.js";import{_ as O}from"./PageTitle.dd8debfd.js";import{_ as S}from"./Pagination.e303f81d.js";import{s as $}from"./library.595eb791.js";const D={class:"modal modal-bottom sm:modal-middle"},J={class:"modal-box"},j=s("h3",{class:"font-bold text-lg"},"Lanjutkan proses",-1),K=s("p",{class:"py-4"},"Klik simpan untuk simpan biaya operasional",-1),A={class:"modal-action flex justify-between"},P={class:"px-4 grid gap-4"},R={class:"card w-full rounded-none border-2 border-info shadow-xl"},H={class:"card-body grid md:grid-cols-4 gap-4"},L={class:"col-span-2 grid grid-cols-2 gap-4"},E={class:"form-control w-full"},Q=s("label",{class:"label"},"No Nota / Invoice",-1),q={key:0,class:"label"},z={class:"label-text-alt text-error"},G={class:"form-control w-full"},W=s("label",{class:"label"},"Tanggal Nota / Invoice",-1),X=["readonly"],Y={key:0,class:"label"},Z={class:"label-text-alt text-error"},ss={class:"form-control w-full col-span-2"},es=s("label",{class:"label"},[s("span",{class:"label-text"},"Mobil")],-1),ts=["disabled"],os=s("option",{value:"0"},"Pilih Mobil",-1),as=["value"],ls={key:0,class:"label"},ns={class:"label-text-alt text-error"},rs={class:"form-control w-full"},is=s("label",{class:"label"},[s("span",{class:"label-text"},"Jenis Biaya")],-1),cs=["disabled"],ds=s("option",{value:"0"},"Pilih Jenis Biaya",-1),ps=["value"],us={key:0,class:"label"},_s={class:"label-text-alt text-error"},bs={class:"form-control w-full"},hs=s("label",{class:"label"},"Jumlah Pengeluaran",-1),ms={key:0,class:"label"},vs={class:"label-text-alt text-error"},gs={class:"form-control w-full col-span-2"},xs=s("label",{class:"label"},"Keterangan",-1),ys=["disabled"],fs={class:"grid grid-cols-2 gap-4 py-1"},ks=["disabled"],ws={class:"card-body"},Is=s("div",{class:"w-full mb-4"},null,-1),Cs={class:"w-full text-left text-base"},Ns=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Tanggal"),s("th",{class:"py-3 px-6"},"Invoice Number"),s("th",{class:"py-3 px-6"},"Mobil"),s("th",{class:"py-3 px-6"},"Jenis"),s("th",{class:"py-3 px-6"},"Keterangan"),s("th",{class:"py-3 px-6 text-right"},"Jumlah")])],-1),Bs={class:"hover:cursor-pointer group border-b"},Ms={class:"group-hover:bg-base-300 py-4 px-6"},Vs={class:"group-hover:bg-base-300 py-4 px-6"},Ts={class:"group-hover:bg-base-300 py-4 px-6"},Us={class:"group-hover:bg-base-300 py-4 px-6"},Fs={class:"font-bold"},Os={class:"text-sm opacity-50"},Ss={class:"group-hover:bg-base-300 py-4 px-6"},$s={class:"group-hover:bg-base-300 py-4 px-6"},Ds={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Hs={__name:"CostCarIndex",props:{cars:Array,costs:Object,categories:Array},setup(k){var g;const i=k,u=x(!1);x();const w=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.cost.index"),label:"Invoice"},{url:null,label:"Biaya Operasional Mobil"}],o=C({name:"",car_id:(g=i.car_id)!=null?g:0,invoice_number:"OTOMATIS",amount:0,invoice_date:"",description:""}),I=()=>{o.post(route("transaction.cost.store"),{onFinish:()=>{u.value=!1}})};return(Js,a)=>(n(),r(_,null,[d(e(V),{title:"Biaya Operasional Mobil"}),d(F,{links:w}),d(O,{classes:"bg-base-content"},{default:N(()=>[h("Biaya Operasional Mobil")]),_:1}),p(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),class:"modal-toggle"},null,512),[[B,u.value]]),s("div",D,[s("div",J,[j,K,s("div",A,[s("button",{type:"button",onClick:I,class:"btn btn-primary"},[d(y,{path:e(T)},null,8,["path"]),h(" Simpan Transaksi")]),s("button",{type:"button",onClick:a[1]||(a[1]=t=>u.value=!1),class:"btn btn-warning"},[d(y,{path:e(U)},null,8,["path"]),h(" Batal")])])])]),s("section",P,[s("div",R,[s("div",H,[s("div",L,[s("div",E,[Q,p(s("input",{disabled:"","onUpdate:modelValue":a[2]||(a[2]=t=>e(o).invoice_number=t),type:"text",placeholder:"No Nota / Invoice",class:"input input-bordered w-full"},null,512),[[m,e(o).invoice_number]]),e(o).errors.invoice_number?(n(),r("label",q,[s("span",z,l(e(o).errors.invoice_number),1)])):c("",!0)]),s("div",G,[W,p(s("input",{readonly:e(o).processing,"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).invoice_date=t),type:"date",placeholder:"Tanggal Nota / Invoice",class:"input input-bordered w-full"},null,8,X),[[m,e(o).invoice_date]]),e(o).errors.invoice_date?(n(),r("label",Y,[s("span",Z,l(e(o).errors.invoice_date),1)])):c("",!0)]),s("div",ss,[es,p(s("select",{disabled:e(o).processing,"onUpdate:modelValue":a[4]||(a[4]=t=>e(o).car_id=t),class:"select select-info select-bordered"},[os,(n(!0),r(_,null,v(i.cars,(t,b)=>(n(),r("option",{value:t.value,key:t.value},l(t.label.toUpperCase()),9,as))),128))],8,ts),[[f,e(o).car_id]]),e(o).errors.car_id?(n(),r("label",ls,[s("span",ns,l(e(o).errors.car_id),1)])):c("",!0)]),s("div",rs,[is,p(s("select",{disabled:e(o).processing,"onUpdate:modelValue":a[5]||(a[5]=t=>e(o).name=t),class:"select select-info select-bordered"},[ds,(n(!0),r(_,null,v(i.categories,(t,b)=>(n(),r("option",{value:t.value,key:t.value},l(t.label.toUpperCase()),9,ps))),128))],8,cs),[[f,e(o).name]]),e(o).errors.name?(n(),r("label",us,[s("span",_s,l(e(o).errors.name),1)])):c("",!0)]),s("div",bs,[hs,d(e($),{options:{precision:0,prefix:"Rp ",isInteger:!0},readonly:e(o).processing,value:e(o).amount,"onUpdate:value":a[6]||(a[6]=t=>e(o).amount=t),class:"input input-bordered w-full"},null,8,["readonly","value"]),e(o).errors.amount?(n(),r("label",ms,[s("span",vs,l(e(o).errors.amount),1)])):c("",!0)]),s("div",gs,[xs,p(s("textarea",{"onUpdate:modelValue":a[7]||(a[7]=t=>e(o).description=t),disabled:e(o).processing,class:"textarea textarea-bordered",placeholder:"Keterangan"},null,8,ys),[[m,e(o).description]])]),s("div",fs,[s("button",{disabled:e(o).processing,onClick:a[8]||(a[8]=t=>u.value=!0),class:"btn mt-8"},"Save",8,ks)])])]),s("div",ws,[Is,s("table",Cs,[Ns,s("tbody",null,[i.costs.data.length?(n(!0),r(_,{key:0},v(i.costs.data,(t,b)=>(n(),r("tr",Bs,[s("th",Ms,l(i.costs.from+b),1),s("td",Vs,l(t.invoice_date),1),s("td",Ts,l(t.invoice_number),1),s("td",Us,[s("div",null,[s("div",Fs,l(t.car.no_pol),1),s("div",Os,l(t.car.name),1)])]),s("td",Ss,l(t.name),1),s("td",$s,l(t.description),1),s("td",Ds,l(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.amount)),1)]))),256)):c("",!0)])]),i.costs.data.length?(n(),M(S,{key:0,links:i.costs.links},null,8,["links"])):c("",!0)])])])],64))}};export{Hs as default};
