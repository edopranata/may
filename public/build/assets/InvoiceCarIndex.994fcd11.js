import{g as m,u as C,c as d,a as n,b as o,e as x,i as v,x as F,d as t,_ as p,f as u,I as D,F as h,n as y,j as f,k as M,o as l,H as j,Q as N,L,R as V,t as e,q as $}from"./app.f33b5c0d.js";import{_ as A}from"./Breadcrumb.de4c8a73.js";import{_ as B}from"./PageTitle.dd8debfd.js";import{_ as R}from"./Pagination.e303f81d.js";const T={class:"modal modal-bottom sm:modal-middle"},P={class:"modal-box"},S=t("h3",{class:"font-bold text-lg"},"Lanjutkan proses perhitungan amprah",-1),G=t("p",{class:"py-4"},"Klik Lihat Perhitungan amprah, untuk mengetahui rincian dan total amprah yang akan diterima",-1),H={class:"modal-action flex justify-between"},U={class:"px-4 grid gap-4"},K={class:"card w-full rounded-none border-2 border-info shadow-xl"},q={class:"card-body grid md:grid-cols-4 gap-4"},E={class:"form-control w-full"},J=t("label",{class:"label"},[t("span",{class:"label-text"},"Mobil")],-1),O=["disabled"],Q=t("option",{value:"0"},"Pilih Mobil",-1),z=["value"],W={class:"grid grid-cols-2 gap-4 py-1"},X=["disabled"],Y=["disabled"],Z={class:"card w-full rounded-none border-2 border-info shadow-xl"},tt={class:"card-body"},st={class:"w-full text-left text-base"},at=t("thead",{class:"text-sm uppercase bg-primary/20"},[t("tr",null,[t("th",{class:"py-3 px-6"},"#"),t("th",{class:"py-3 px-6"},"Tanggal"),t("th",{class:"py-3 px-6"},"Mobil"),t("th",{class:"py-3 px-6 text-center"},"Jumlah"),t("th",{class:"py-3 px-6 text-right"},"Tonase"),t("th",{class:"py-3 px-6 text-right"},"Gaji (Rp / Kg)"),t("th",{class:"py-3 px-6 text-right"},"Total"),t("th",{class:"py-3 px-6"})])],-1),et={class:"hover:cursor-pointer group border-b"},ot={class:"group-hover:bg-base-300 py-4 px-6"},rt={class:"group-hover:bg-base-300 py-4 px-6"},nt={class:"group-hover:bg-base-300 py-4 px-6"},lt={class:"font-bold"},it={class:"text-sm opacity-50"},dt={class:"group-hover:bg-base-300 py-4 px-6 text-center"},ct={class:"group-hover:bg-base-300 py-4 px-6 text-right"},pt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ut={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ht={class:"group-hover:bg-base-300 py-4 px-6"},xt={__name:"InvoiceCarIndex",props:{car_id:String,cars:Array,trades:Object},setup(k){var _;const a=k,c=m(!1);m();const w=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.invoice.index"),label:"Invoice"},{url:null,label:"Amprah Mobil"}],i=C({car_id:(_=a.car_id)!=null?_:0}),I=()=>{i.get(route("transaction.invoice.car.index"))};return(b,r)=>(l(),d(h,null,[n(o(j),{title:"Amprah Mobil"}),n(A,{links:w}),n(B,{classes:"bg-base-content"},{default:x(()=>[u("Amprah Mobil")]),_:1}),v(t("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":r[0]||(r[0]=s=>c.value=s),class:"modal-toggle"},null,512),[[F,c.value]]),t("div",T,[t("div",P,[S,G,t("div",H,[n(o(L),{as:"button",disabled:a.trades.total<1,href:a.car_id?b.route("transaction.invoice.car.show",a.car_id):b.route("transaction.invoice.car.index"),class:"btn btn-primary"},{default:x(()=>[n(p,{path:o(N)},null,8,["path"]),u(" Lihat Perhitungan Gaji")]),_:1},8,["disabled","href"]),t("button",{type:"button",onClick:r[1]||(r[1]=s=>c.value=!1),class:"btn btn-warning"},[n(p,{path:o(V)},null,8,["path"]),u(" Batal")])])])]),t("section",U,[t("div",K,[t("div",q,[t("div",E,[J,v(t("select",{disabled:o(i).processing,"onUpdate:modelValue":r[2]||(r[2]=s=>o(i).car_id=s),class:"select select-info select-bordered"},[Q,(l(!0),d(h,null,y(a.cars,(s,g)=>(l(),d("option",{value:s.id,key:s.id},e(s.text.toUpperCase()),9,z))),128))],8,O),[[D,o(i).car_id]])]),t("div",W,[t("button",{disabled:o(i).processing,onClick:I,class:"btn mt-8"},"Filter",8,X),t("button",{disabled:a.car_id<1||a.trades.total<1,onClick:r[3]||(r[3]=s=>c.value=!0),class:"btn btn-primary mt-8"},"Hitung Gaji",8,Y)])])]),t("div",Z,[t("div",tt,[t("table",st,[at,t("tbody",null,[a.trades.data.length?(l(!0),d(h,{key:0},y(a.trades.data,(s,g)=>(l(),d("tr",et,[t("th",ot,e(a.trades.from+g),1),t("td",rt,e(s.trade_date),1),t("td",nt,[t("div",null,[t("div",lt,e(s.car.no_pol)+" - "+e(s.car.name),1),t("div",it,e(s.driver.name),1)])]),t("td",dt,e(s.details.length)+" Petani",1),t("td",ct,e(Intl.NumberFormat("id-ID",{style:"unit",unit:"kilogram"}).format(s.net_weight)),1),t("td",pt,e(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.car.price?s.car.price.value:"")),1),t("td",ut,e(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format((s.car.price?s.car.price.value:0)*s.net_weight)),1),t("td",ht,[n(p,{path:o($)},null,8,["path"])])]))),256)):f("",!0)])]),a.trades.data.length?(l(),M(R,{key:0,links:a.trades.links},null,8,["links"])):f("",!0)])])])],64))}};export{xt as default};
