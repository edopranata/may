import{g,u as F,c as u,a as r,b as a,e as m,i as v,x as N,d as s,_,f as d,y as V,F as y,n as C,k as x,j as f,o as l,H as B,Q as G,L as k,R as L,t as i,q as R}from"./app.f33b5c0d.js";import{_ as S}from"./Breadcrumb.de4c8a73.js";import{_ as T}from"./PageTitle.dd8debfd.js";import{_ as $}from"./Pagination.e303f81d.js";import{s as K}from"./multiselect.ddaa6662.js";const P={class:"modal modal-bottom sm:modal-middle"},H={class:"modal-box"},U=s("h3",{class:"font-bold text-lg"},"Lanjutkan proses perhitungan gaji mandor",-1),A=s("p",{class:"py-4"},"Klik Lihat Perhitungan gaji mandor, untuk mengetahui rincian dan total gaji mandor yang akan diterima",-1),M={class:"modal-action flex justify-between"},q={class:"px-4 grid gap-4"},E={class:"card w-full rounded-none border-2 border-info shadow-xl"},O={class:"card-body grid md:grid-cols-4 gap-4"},Q={class:"form-control w-full"},z=s("label",{class:"label"},[s("span",{class:"label-text"},"Karyawan")],-1),J={class:"form-control w-full"},W=s("label",{class:"label"},[s("span",{class:"label-text"},"Tanggal")],-1),X={class:"grid grid-cols-2 gap-4 py-1"},Y=["disabled"],Z=["disabled"],ss={class:"card-body"},ts={class:"w-full text-left text-base"},es=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Invoice Number"),s("th",{class:"py-3 px-6"},"Nama"),s("th",{class:"py-3 px-6 text-right"},"Total"),s("th",{class:"py-3 px-6 text-right"},"Pinjaman"),s("th",{class:"py-3 px-6 text-right"},"Bayar Pinjaman"),s("th",{class:"py-3 px-6 text-right"},"Diterima"),s("th",{class:"py-3 px-6"})])],-1),as={class:"hover:cursor-pointer group border-b"},os={class:"group-hover:bg-base-300 py-4 px-6"},is={class:"group-hover:bg-base-300 py-4 px-6"},rs={class:"font-bold"},ns={class:"text-sm opacity-50"},ls={class:"group-hover:bg-base-300 py-4 px-6"},ds={class:"font-bold"},cs={class:"text-sm opacity-50"},us={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ps={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ms={class:"group-hover:bg-base-300 py-4 px-6 text-right"},_s={class:"group-hover:bg-base-300 py-4 px-6 text-right"},bs={class:"group-hover:bg-base-300 py-4 px-6"},hs={key:1},gs={colspan:"8",class:"text-center border-b-2"},ws={__name:"InvoiceSupervisorIndex",props:{supervisor_id:String,supervisors:Array,price:Number,date:String,invoices:Object},setup(w){var b,h;const e=w,c=g(!1);g();const D=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.invoice.index"),label:"Invoice"},{url:null,label:"Gaji Karyawan"}],n=F({supervisor_id:(b=e.supervisor_id)!=null?b:null,date:(h=e.date)!=null?h:null}),I=()=>{n.get(route("transaction.invoice.supervisor.index"))};return(p,o)=>(l(),u(y,null,[r(a(B),{title:"Gaji Karyawan"}),r(S,{links:D}),r(T,{classes:"bg-base-content"},{default:m(()=>[d("Gaji Karyawan")]),_:1}),v(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),class:"modal-toggle"},null,512),[[N,c.value]]),s("div",P,[s("div",H,[U,A,s("div",M,[r(a(k),{as:"button",disabled:!e.supervisor_id,href:e.supervisor_id?p.route("transaction.invoice.supervisor.show",e.supervisor_id):p.route("transaction.invoice.supervisor.index"),class:"btn btn-primary"},{default:m(()=>[r(_,{path:a(G)},null,8,["path"]),d(" Lihat Perhitungan Gaji")]),_:1},8,["disabled","href"]),s("button",{type:"button",onClick:o[1]||(o[1]=t=>c.value=!1),class:"btn btn-warning"},[r(_,{path:a(L)},null,8,["path"]),d(" Batal")])])])]),s("section",q,[s("div",E,[s("div",O,[s("div",Q,[z,r(a(K),{class:"select select-bordered rounded",searchable:!0,modelValue:a(n).supervisor_id,"onUpdate:modelValue":o[2]||(o[2]=t=>a(n).supervisor_id=t),options:e.supervisors,"aria-selected":e.supervisor_id},null,8,["modelValue","options","aria-selected"])]),s("div",J,[W,v(s("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>a(n).date=t),type:"date",placeholder:"Sampai Tanggal",class:"input input-bordered w-full"},null,512),[[V,a(n).date]])]),s("div",X,[s("button",{disabled:a(n).processing,onClick:I,class:"btn mt-8"},"Filter",8,Y),s("button",{disabled:!e.supervisor_id,onClick:o[4]||(o[4]=t=>c.value=!0),class:"btn btn-primary mt-8"},"Hitung Gaji",8,Z)])]),s("div",ss,[s("table",ts,[es,s("tbody",null,[e.invoices.data.length?(l(!0),u(y,{key:0},C(e.invoices.data,(t,j)=>(l(),u("tr",as,[s("th",os,i(e.invoices.from+j),1),s("td",is,[s("div",null,[s("div",rs,i(t.invoice_number),1),s("div",ns,i(t.invoice_date),1)])]),s("td",ls,[s("div",null,[s("div",ds,i(t.modelable?t.modelable.name:""),1),s("div",cs,i(t.modelable?t.modelable.phone:""),1)])]),s("td",us,i(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.total_buy)),1),s("td",ps,i(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.loan)),1),s("td",ms,i(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.loan_installment)),1),s("td",_s,i(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.total)),1),s("td",bs,[r(_,{path:a(R)},null,8,["path"])])]))),256)):(l(),u("tr",hs,[s("td",gs,[d("No Data "),e.invoices.current_page>1?(l(),x(a(k),{key:0,class:"link link-primary",href:p.route("report.invoice.search.index")},{default:m(()=>[d("Goto First Page")]),_:1},8,["href"])):f("",!0)])]))])]),e.invoices.data.length?(l(),x($,{key:0,links:e.invoices.links},null,8,["links"])):f("",!0)])])])],64))}};export{ws as default};
