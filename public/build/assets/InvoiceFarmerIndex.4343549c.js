import{g as w,u as D,z as N,A as F,B as P,C as T,c as m,a as c,b as l,e as p,i as f,x as C,d as s,t as a,y as B,F as x,n as j,f as d,k as y,j as v,o as i,H as V,L as _,q as $,_ as R}from"./app.f33b5c0d.js";import{_ as A}from"./Breadcrumb.de4c8a73.js";import{_ as J}from"./PageTitle.dd8debfd.js";import{_ as L}from"./Pagination.e303f81d.js";const M={class:"modal"},S={class:"modal-box w-11/12 max-w-4xl",for:""},H={class:"w-full text-left text-base print:text-xs"},U=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"Nama"),s("th",{class:"py-3 px-6"},"Pinjaman"),s("th",{class:"py-3 px-6"},"Total"),s("th",{class:"py-3 px-6"},"Jumlah Transaksi")])],-1),q={class:"py-3 px-6"},z={class:"font-bold"},E={class:"text-sm opacity-50"},G={class:"py-3 px-6"},K={class:"py-3 px-6"},O={class:"py-3 px-6"},Q={class:"modal-action flex justify-between space-x-4"},W={class:"flex space-x-4"},X={class:"px-4 grid gap-4"},Y={class:"card w-full rounded-none border-2 border-success shadow-xl"},Z={class:"card-body"},ss={class:"flex items-center mb-4"},ts={class:"form-control p-1"},es=s("label",{class:"label"},[s("span",{class:"label-text"},"Cari Petani")],-1),as={class:"card w-full rounded-none border-2 border-success shadow-xl"},os={class:"card-body"},rs={class:"w-full text-left text-base"},ns=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Nama Petani"),s("th",{class:"py-3 px-6"},"Alamat"),s("th",{class:"py-3 px-6"},"No Telepon"),s("th",{class:"py-3 px-6"},"Jarak"),s("th",{class:"py-3 px-6"},"Total"),s("th",{class:"py-3 px-6"},"Jumlah Trx"),s("th",{class:"py-3 px-6"},"Pinjaman"),s("th",{class:"py-3 px-6"})])],-1),ls=["onClick"],cs={class:"group-hover:bg-base-300 py-4 px-6"},ds={class:"group-hover:bg-base-300 py-4 px-6"},is={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},ps={class:"max-w-xs"},us={class:"group-hover:bg-base-300 py-4 px-6"},ms={class:"group-hover:bg-base-300 py-4 px-6"},_s={class:"group-hover:bg-base-300 py-4 px-6"},hs={class:"group-hover:bg-base-300 py-4 px-6"},bs={class:"group-hover:bg-base-300 py-4 px-6"},fs={class:"group-hover:bg-base-300 py-4 px-6"},xs={key:1},ys={colspan:"9",class:"text-center border-b-2"},Ds={__name:"InvoiceFarmerIndex",props:{farmer:String,farmers:Object},setup(g){const r=g,u=w(!1),k=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.invoice.index"),label:"Invoice"},{url:null,label:"Invoice Petani"}],h=D({farmer:r.farmer});N(h,F.exports.debounce(function(n){P.Inertia.get(route("transaction.invoice.farmer.index"),{farmer:n.farmer},{preserveState:!0,replace:!0})},500),{deep:!0});const t=T({id:0,name:"",phone:"",address:"",distance:"",loan:"",counts:"",total:""}),I=function(n){let e=r.farmers.data[n];t.id=e.id,t.name=e.name,t.phone=e.phone,t.address=e.address,t.distance=e.distance,t.loan=e.loan_total,t.total=e.trades_total,t.counts=e.trades_count,u.value=!0};return(n,e)=>(i(),m(x,null,[c(l(V),{title:"Invoice Petani"}),c(A,{links:k}),c(J,{classes:"bg-base-content",class:""},{default:p(()=>[d("Invoice Petani")]),_:1}),f(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),class:"modal-toggle"},null,512),[[C,u.value]]),s("div",M,[s("div",S,[s("table",H,[U,s("tbody",null,[s("tr",null,[s("td",q,[s("div",z,a(t.name),1),s("div",E,a(t.phone),1)]),s("td",G,a(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t.loan)),1),s("td",K,a(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t.total)),1),s("td",O,a(t.counts)+" Trx",1)])])]),s("div",Q,[s("div",W,[c(l(_),{as:"button",href:n.route("transaction.invoice.farmer.show",t.id),class:"btn btn-info"},{default:p(()=>[d("Buat Invoice")]),_:1},8,["href"]),c(l(_),{as:"button",href:n.route("transaction.loan.farmer.show",t.id),class:"btn btn-primary"},{default:p(()=>[d("Tambah Pinjaman")]),_:1},8,["href"]),c(l(_),{as:"button",href:n.route("transaction.loan.farmer.edit",t.id),class:"btn btn-secondary"},{default:p(()=>[d("Bayar Pinjaman")]),_:1},8,["href"])]),s("button",{class:"btn btn-error",onClick:e[1]||(e[1]=o=>u.value=!1)},"Batalkan")])])]),s("section",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("div",ts,[es,f(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l(h).farmer=o),type:"text",placeholder:"Cari Petani",class:"input input-success input-bordered"},null,512),[[B,l(h).farmer]])])])])]),s("div",as,[s("div",os,[s("table",rs,[ns,s("tbody",null,[r.farmers.data.length?(i(!0),m(x,{key:0},j(r.farmers.data,(o,b)=>(i(),m("tr",{class:"hover:cursor-pointer group border-b",onClick:vs=>I(b)},[s("th",cs,a(r.farmers.from+b),1),s("td",ds,a(o.name),1),s("td",is,[s("p",ps,a(o.address),1)]),s("td",us,a(o.phone),1),s("td",ms,a(o.distance)+" Km",1),s("td",_s,a(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o.trades_total)),1),s("td",hs,a(o.trades_count),1),s("td",bs,a(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o.loan_total)),1),s("td",fs,[c(R,{path:l($)},null,8,["path"])])],8,ls))),256)):(i(),m("tr",xs,[s("td",ys,[d("No Data "),r.farmers.current_page>1?(i(),y(l(_),{key:0,class:"link link-primary",href:n.route("data.farmer.index")},{default:p(()=>[d("Goto First Page")]),_:1},8,["href"])):v("",!0)])]))])]),r.farmers.data.length?(i(),y(L,{key:0,links:r.farmers.links},null,8,["links"])):v("",!0)])])])],64))}};export{Ds as default};
