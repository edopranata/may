import{g as v,u as w,c as i,a as l,b as t,e as k,i as u,x as S,d as e,_,f as p,t as r,w as j,y as m,j as b,F as A,o as d,H as C,Q as I,J as N,R as P}from"./app.1b38ef22.js";import{_ as T}from"./Breadcrumb.cb73cb46.js";import{_ as V}from"./PageTitle.0dcaf6ba.js";import{s as D}from"./library.2a2b5b59.js";const M={class:"modal modal-bottom sm:modal-middle"},O={class:"modal-box"},U=e("h3",{class:"font-bold text-lg"},"Lanjutkan proses pembayaran pinjaman",-1),$=e("p",{class:"py-4"},"Klik simpan untuk lanjutkan pembayaran atau klik simpan dan print untuk simpan pembayaran dan print",-1),B={class:"modal-action flex justify-between"},F=["disabled"],H=["disabled"],J={class:"px-4 grid md:grid-cols-2 gap-4"},K={class:"card w-full rounded-none border-2 border-warning shadow-xl"},R={class:"card-body"},E=e("h2",{class:"text-xl"},"Informasi Supir",-1),L=e("div",{class:"divider my-2"},null,-1),Q={class:"w-full text-left text-base"},q={class:"group border-b"},z=e("th",{class:"group-hover:bg-base-200 py-4 px-6"},"Nama Supir",-1),G={class:"group-hover:bg-base-200 py-4 px-6"},W={class:"group border-b"},X=e("th",{class:"group-hover:bg-base-200 py-4 px-6"},"Alamat",-1),Y={class:"group-hover:bg-base-200 py-4 px-6"},Z={class:"group border-b"},ee=e("th",{class:"group-hover:bg-base-200 py-4 px-6"},"No Handphone",-1),se={class:"group-hover:bg-base-200 py-4 px-6"},te={class:"group border-b"},ae=e("th",{class:"group-hover:bg-base-200 py-4 px-6"},"Sisa Pinjaman",-1),oe={class:"group-hover:bg-base-200 py-4 px-6"},ne={class:"card w-full rounded-none border-2 border-warning shadow-xl"},re={class:"card-body"},le={class:"grid grid-cols-2 gap-4"},ie={class:"form-control w-ful"},de=e("label",{class:"label"},[e("span",{class:"label-text"},"Tanggal Pembayaran")],-1),ce=["readonly"],ue={key:0,class:"label"},pe={class:"label-text-alt text-error"},be={class:"form-control w-ful"},_e=e("label",{class:"label"},[e("span",{class:"label-text"},"Invoice Number")],-1),me={key:0,class:"label"},he={class:"label-text-alt text-error"},ve={class:"form-control w-ful"},ge=e("label",{class:"label"},[e("span",{class:"label-text"},"Jumlah Agsuran")],-1),xe={key:0,class:"label"},ye={class:"label-text-alt text-error"},fe={class:"form-control w-ful"},we=e("label",{class:"label"},[e("span",{class:"label-text"},"Keterangan")],-1),ke=["readonly"],Se={key:0,class:"label"},je={class:"label-text-alt text-error"},Ae=e("div",{class:"card-actions justify-end mt-4"},[e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ve={__name:"DriverLoanPay",props:{driver:Object},setup(g){const n=g,x=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.loan.driver.index"),label:"Pinjaman"},{url:null,label:"Angsuran pinjaman : "+n.driver.name}],c=v(!1);v();const s=w({print:!1,type:"driver",id:n.driver.id,date:"",invoice_number:"OTOMATIS",amount:"",description:""}),h=()=>{s.patch(route("transaction.loan.driver.update",n.driver.id),{onSuccess:()=>{f()}})},y=()=>{s.print=!0,h()},f=()=>{s.clearErrors(),s.reset(),s.defaults({print:!1,date:null,invoice_number:"OTOMATIS",amount:null,description:null})};return(Ce,a)=>(d(),i(A,null,[l(t(C),{title:"Angsuran Pinjaman Supir"}),l(T,{links:x}),l(V,{classes:"bg-base-content"},{default:k(()=>[p("Angsuran Pinjaman Supir")]),_:1}),u(e("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),class:"modal-toggle"},null,512),[[S,c.value]]),e("div",M,[e("div",O,[U,$,e("div",B,[e("button",{type:"button",onClick:h,disabled:!t(s).date||!t(s).amount,class:"btn btn-primary"},[l(_,{path:t(I)},null,8,["path"]),p(" Simpan")],8,F),e("button",{type:"button",onClick:y,disabled:!t(s).date||!t(s).amount,class:"btn btn-primary"},[l(_,{path:t(N)},null,8,["path"]),p(" Simpan dan Print")],8,H),e("button",{type:"button",onClick:a[1]||(a[1]=o=>c.value=!1),class:"btn btn-warning"},[l(_,{path:t(P)},null,8,["path"]),p(" Batal")])])])]),e("section",J,[e("div",K,[e("div",R,[E,L,e("table",Q,[e("tbody",null,[e("tr",q,[z,e("td",G,r(n.driver.name),1)]),e("tr",W,[X,e("td",Y,r(n.driver.address),1)]),e("tr",Z,[ee,e("td",se,r(n.driver.phone),1)]),e("tr",te,[ae,e("td",oe,r(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n.driver.loan?n.driver.loan.balance:0)),1)])])])])]),e("div",ne,[e("div",re,[e("form",{onSubmit:a[6]||(a[6]=j(o=>c.value=!0,["prevent"]))},[e("div",le,[e("div",ie,[de,u(e("input",{readonly:t(s).processing,"onUpdate:modelValue":a[2]||(a[2]=o=>t(s).date=o),type:"date",class:"input input-warning input-bordered w-full"},null,8,ce),[[m,t(s).date]]),t(s).errors.date?(d(),i("label",ue,[e("span",pe,r(t(s).errors.date),1)])):b("",!0)]),e("div",be,[_e,u(e("input",{disabled:"","onUpdate:modelValue":a[3]||(a[3]=o=>t(s).invoice_number=o),type:"text",class:"input input-warning input-bordered w-full"},null,512),[[m,t(s).invoice_number]]),t(s).errors.invoice_number?(d(),i("label",me,[e("span",he,r(t(s).errors.invoice_number),1)])):b("",!0)])]),e("div",ve,[ge,l(t(D),{options:{precision:0,prefix:"Rp ",isInteger:!0},readonly:t(s).processing,value:t(s).amount,"onUpdate:value":a[4]||(a[4]=o=>t(s).amount=o),placeholder:"Jumlah Angsuran",class:"input input-warning input-bordered w-full"},null,8,["readonly","value"]),t(s).errors.amount?(d(),i("label",xe,[e("span",ye,r(t(s).errors.amount),1)])):b("",!0)]),e("div",fe,[we,u(e("textarea",{readonly:t(s).processing,"onUpdate:modelValue":a[5]||(a[5]=o=>t(s).description=o),type:"text",placeholder:"Keterangan",class:"textarea textarea-warning textarea-bordered w-full"},null,8,ke),[[m,t(s).description]]),t(s).errors.description?(d(),i("label",Se,[e("span",je,r(t(s).errors.description),1)])):b("",!0)]),Ae],32)])])])],64))}};export{Ve as default};
