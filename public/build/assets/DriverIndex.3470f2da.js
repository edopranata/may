import{g,u as w,z as I,A as K,B as $,c as d,a as h,b as s,i,x as V,d as e,w as k,y as u,t as r,j as c,s as S,e as U,F as D,n as E,f,k as j,o as n,H as L,_ as M,L as P}from"./app.f33b5c0d.js";import{_ as R}from"./Breadcrumb.de4c8a73.js";import{_ as z}from"./Pagination.e303f81d.js";import{_ as H}from"./PageTitle.dd8debfd.js";import{s as O}from"./library.595eb791.js";import{m as q}from"./mdi.ef20bf61.js";const J={for:"modal-create",class:"modal cursor-pointer"},Q={class:"modal-box relative",for:""},W=e("h3",{class:"font-bold text-lg"},"Tambah Data Supir",-1),X=["onSubmit"],Y={class:"grid gap-4"},Z={class:"form-control w-full"},ee=e("label",{class:"label"},"Nama Supir",-1),se=["readonly"],te={key:0,class:"label"},oe={class:"label-text-alt text-error"},le={class:"grid md:grid-cols-3 gap-4"},ae={class:"form-control w-full"},re=e("label",{class:"label"},"Biaya (Gaji / Kg)",-1),ne=["readonly"],de={key:0,class:"label"},ie={class:"label-text-alt text-error"},ce={class:"form-control w-full col-span-2"},pe=e("label",{class:"label"},"No Telepon",-1),ue=["readonly"],_e={key:0,class:"label"},be={class:"label-text-alt text-error"},he={class:"form-control w-full"},me=e("label",{class:"label"},"Alamat Supir",-1),fe=["readonly"],ye={key:0,class:"label"},xe={class:"label-text-alt text-error"},ve={class:"form-control w-full"},ge=e("label",{class:"label"},[f("Pinjaman Awal "),e("span",{class:"text-xs"},"Kosongkan bila tidak ada")],-1),we={key:0,class:"label"},ke={class:"labelP-alt text-error"},Se={class:"flex justify-between mt-10"},Ne=["disabled"],Ve={for:"modal-edit",class:"modal cursor-pointer"},Ue={class:"modal-box relative",for:""},De={class:"font-bold text-lg"},je=["onSubmit"],Be={class:"grid gap-4"},Ce={class:"form-control w-full"},Te=e("label",{class:"label"},"Nama Supir",-1),Ae=["readonly"],Ge={key:0,class:"label"},Fe={class:"label-text-alt text-error"},Ie={class:"grid md:grid-cols-3 gap-4"},Ke={class:"form-control w-full"},$e=e("label",{class:"label"},"Biaya (Gaji / Kg)",-1),Ee=["readonly"],Le={key:0,class:"label"},Me={class:"label-text-alt text-error"},Pe={class:"form-control w-full col-span-2"},Re=e("label",{class:"label"},"No Telepon",-1),ze=["readonly"],He={key:0,class:"label"},Oe={class:"label-text-alt text-error"},qe={class:"form-control w-full"},Je=e("label",{class:"label"},"Alamat Supir",-1),Qe=["readonly"],We={key:0,class:"label"},Xe={class:"label-text-alt text-error"},Ye={class:"flex justify-between mt-10"},Ze=["disabled"],es=["disabled","onClick"],ss={class:"px-4 grid gap-4"},ts={class:"card w-full rounded-none border-2 border-info shadow-xl"},os={class:"card-body grid gap-4"},ls={class:"flex justify-between items-center mb-4"},as={class:"form-control"},rs={class:"card w-full rounded-none border-2 border-info shadow-xl"},ns={class:"card-body grid gap-4"},ds={class:"w-full text-left text-base"},is=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Nama Supir"),e("th",{class:"py-3 px-6"},"No Telepon"),e("th",{class:"py-3 px-6"},"Alamat"),e("th",{class:"py-3 px-6"},"Gaji / KG"),e("th",{class:"py-3 px-6"})])],-1),cs=["onClick"],ps={class:"group-hover:bg-base-300 py-4 px-6"},us={class:"group-hover:bg-base-300 py-4 px-6"},_s={class:"group-hover:bg-base-300 py-4 px-6"},bs={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},hs={class:"max-w-xs"},ms={class:"group-hover:bg-base-300 py-4 px-6"},fs={class:"group-hover:bg-base-300 py-4 px-6"},ys={key:1},xs={colspan:"6",class:"text-center border-b-2"},Us={__name:"DriverIndex",props:{search:String,drivers:{type:Object},price:{type:Number,default:0}},setup(B){const p=B,C=[{url:route("data.index"),label:"Data"},{url:null,label:"Supir"}],y=g(!1),m=g(!1),x=g(null),o=w({name:"",loan:0,phone:"",price:p.price,address:""}),t=w({name:"",phone:"",price:p.price,address:""}),v=w({search:p.search});I(v,K.exports.debounce(b=>{$.Inertia.get(route("data.driver.index"),{search:b.search},{preserveState:!0,replace:!0})},500));const T=()=>{o.post(route("data.driver.store"),{onSuccess:()=>{_()}})},A=b=>{_();let l=p.drivers.data[b];x.value=l.id,t.name=l.name,t.address=l.address,t.phone=l.phone,t.price=l.price?l.price.value:0,m.value=!0},G=()=>{t.patch(route("data.driver.update",x.value),{onSuccess:()=>{_()}})},_=()=>{t.clearErrors(),o.clearErrors(),t.reset(),o.reset(),t.defaults({name:null,price:null,address:null,phone:null}),o.defaults({name:null,loan:0,price:null,address:null,phone:null}),m.value=!1,y.value=!1},F=()=>{t.delete(route("data.driver.destroy",x.value),{onSuccess:()=>{_()}})};return(b,l)=>(n(),d(D,null,[h(s(L),{title:"Supir"}),i(e("input",{type:"checkbox",id:"modal-create","onUpdate:modelValue":l[0]||(l[0]=a=>y.value=a),class:"modal-toggle"},null,512),[[V,y.value]]),e("label",J,[e("label",Q,[W,e("form",{onSubmit:k(T,["prevent"])},[e("div",Y,[e("div",Z,[ee,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":l[1]||(l[1]=a=>s(o).name=a),type:"text",placeholder:"Nama Supir",class:"input input-bordered w-full"},null,8,se),[[u,s(o).name]]),s(o).errors.name?(n(),d("label",te,[e("span",oe,r(s(o).errors.name),1)])):c("",!0)])]),e("div",le,[e("div",ae,[re,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":l[2]||(l[2]=a=>s(o).price=a),type:"text",placeholder:"Biaya (Gaji / Kg)",class:"input input-bordered w-full"},null,8,ne),[[u,s(o).price]]),s(o).errors.price?(n(),d("label",de,[e("span",ie,r(s(o).errors.price),1)])):c("",!0)]),e("div",ce,[pe,i(e("input",{readonly:s(o).processing,"onUpdate:modelValue":l[3]||(l[3]=a=>s(o).phone=a),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,ue),[[u,s(o).phone]]),s(o).errors.phone?(n(),d("label",_e,[e("span",be,r(s(o).errors.phone),1)])):c("",!0)])]),e("div",he,[me,i(e("textarea",{readonly:s(o).processing,"onUpdate:modelValue":l[4]||(l[4]=a=>s(o).address=a),type:"text",placeholder:"Alamat Supir",class:"textarea textarea-bordered w-full"},null,8,fe),[[u,s(o).address]]),s(o).errors.address?(n(),d("label",ye,[e("span",xe,r(s(o).errors.address),1)])):c("",!0)]),e("div",ve,[ge,h(s(O),{options:{precision:0,prefix:"Rp ",isInteger:!0},readonly:s(o).processing,value:s(o).loan,"onUpdate:value":l[5]||(l[5]=a=>s(o).loan=a),class:"input input-bordered w-full"},null,8,["readonly","value"]),s(o).errors.loan?(n(),d("label",we,[e("span",ke,r(s(o).errors.loan),1)])):c("",!0)]),e("div",Se,[e("button",{disabled:s(o).processing,type:"submit",class:S(["btn btn-primary",s(o).processing?"loading":""])},"Save",10,Ne)])],40,X)])]),i(e("input",{type:"checkbox",id:"modal-edit","onUpdate:modelValue":l[6]||(l[6]=a=>m.value=a),class:"modal-toggle"},null,512),[[V,m.value]]),e("label",Ve,[e("label",Ue,[e("h3",De,"Ubah Data Supir "+r(s(t).name),1),e("form",{onSubmit:k(G,["prevent"])},[e("div",Be,[e("div",Ce,[Te,i(e("input",{readonly:s(t).processing,"onUpdate:modelValue":l[7]||(l[7]=a=>s(t).name=a),type:"text",placeholder:"Nama Supir",class:"input input-bordered w-full"},null,8,Ae),[[u,s(t).name]]),s(t).errors.name?(n(),d("label",Ge,[e("span",Fe,r(s(t).errors.name),1)])):c("",!0)])]),e("div",Ie,[e("div",Ke,[$e,i(e("input",{readonly:s(t).processing,"onUpdate:modelValue":l[8]||(l[8]=a=>s(t).price=a),type:"text",placeholder:"Biaya (Gaji / Kg)",class:"input input-bordered w-full"},null,8,Ee),[[u,s(t).price]]),s(t).errors.price?(n(),d("label",Le,[e("span",Me,r(s(t).errors.price),1)])):c("",!0)]),e("div",Pe,[Re,i(e("input",{readonly:s(t).processing,"onUpdate:modelValue":l[9]||(l[9]=a=>s(t).phone=a),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,ze),[[u,s(t).phone]]),s(t).errors.phone?(n(),d("label",He,[e("span",Oe,r(s(t).errors.phone),1)])):c("",!0)])]),e("div",qe,[Je,i(e("textarea",{readonly:s(t).processing,"onUpdate:modelValue":l[10]||(l[10]=a=>s(t).address=a),type:"text",placeholder:"Alamat Supir",class:"textarea textarea-bordered w-full"},null,8,Qe),[[u,s(t).address]]),s(t).errors.address?(n(),d("label",We,[e("span",Xe,r(s(t).errors.address),1)])):c("",!0)]),e("div",Ye,[e("button",{disabled:s(t).processing,type:"submit",class:S(["btn btn-primary",s(t).processing?"loading":""])},"Save",10,Ze),e("button",{disabled:s(t).processing,onClick:k(F,["prevent"]),type:"button",class:S(["btn btn-error",s(t).processing?"loading":""])},"Delete",10,es)])],40,je)])]),h(R,{links:C}),h(H,{classes:"bg-base-content",class:""},{default:U(()=>[f("Data Supir")]),_:1}),e("section",ss,[e("div",ts,[e("div",os,[e("div",ls,[e("div",as,[i(e("input",{"onUpdate:modelValue":l[11]||(l[11]=a=>s(v).search=a),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[u,s(v).search]])]),e("label",{onClick:_,for:"modal-create",class:"btn modal-button"},"Tambah Supir Baru")])])]),e("div",rs,[e("div",ns,[e("table",ds,[is,e("tbody",null,[p.drivers.data.length?(n(!0),d(D,{key:0},E(p.drivers.data,(a,N)=>(n(),d("tr",{class:"hover:cursor-pointer group border-b",onClick:vs=>A(N)},[e("th",ps,r(p.drivers.from+N),1),e("td",us,r(a.name),1),e("td",_s,r(a.phone),1),e("td",bs,[e("p",hs,r(a.address),1)]),e("td",ms,r(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.price?a.price.value:0)),1),e("td",fs,[h(M,{path:s(q)},null,8,["path"])])],8,cs))),256)):(n(),d("tr",ys,[e("td",xs,[f("No Data "),p.drivers.current_page>1?(n(),j(s(P),{key:0,class:"link link-primary",href:b.route("data.driver.index")},{default:U(()=>[f("Goto First Page")]),_:1},8,["href"])):c("",!0)])]))])]),p.drivers.data.length?(n(),j(z,{key:0,links:p.drivers.links},null,8,["links"])):c("",!0)])])])],64))}};export{Us as default};
