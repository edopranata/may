import{g as f,u as j,c as i,a as r,b as t,e as k,i as u,x as w,d as s,_ as m,f as p,t as n,w as P,y as _,j as b,F as S,o as d,H as T,Q as C,J as I,R as N}from"./app.f33b5c0d.js";import{_ as V}from"./Breadcrumb.de4c8a73.js";import{_ as F}from"./PageTitle.dd8debfd.js";import{s as M}from"./library.595eb791.js";const O={class:"modal modal-bottom sm:modal-middle"},U={class:"modal-box"},$=s("h3",{class:"font-bold text-lg"},"Lanjutkan proses pengajuan pinjaman",-1),B=s("p",{class:"py-4"},"Klik simpan untuk lanjutkan pengajuan pinjaman atau klik simpan dan print untuk simpan pengajuan pinjaman dan print",-1),D={class:"modal-action flex justify-between"},A=["disabled"],H=["disabled"],J={class:"px-4 grid md:grid-cols-2 gap-4"},K={class:"card w-full rounded-none border-2 border-success shadow-xl"},R={class:"card-body"},E=s("h2",{class:"text-xl"},"Informasi Petani",-1),L=s("div",{class:"divider my-2"},null,-1),Q={class:"w-full text-left text-base"},q={class:"group border-b"},z=s("th",{class:"group-hover:bg-base-200 py-4 px-6"},"Nama Petani",-1),G={class:"group-hover:bg-base-200 py-4 px-6"},W={class:"group border-b"},X=s("th",{class:"group-hover:bg-base-200 py-4 px-6"},"Alamat",-1),Y={class:"group-hover:bg-base-200 py-4 px-6"},Z={class:"group border-b"},ss=s("th",{class:"group-hover:bg-base-200 py-4 px-6"},"No Handphone",-1),es={class:"group-hover:bg-base-200 py-4 px-6"},ts={class:"group border-b"},as=s("th",{class:"group-hover:bg-base-200 py-4 px-6"},"Pinjaman",-1),os={class:"group-hover:bg-base-200 py-4 px-6"},ns={class:"card w-full rounded-none border-2 border-success shadow-xl"},ls={class:"card-body"},rs={class:"grid grid-cols-2 gap-4"},is={class:"form-control w-ful"},ds=s("label",{class:"label"},[s("span",{class:"label-text"},"Tanggal Pinjaman")],-1),cs=["readonly"],us={key:0,class:"label"},ps={class:"label-text-alt text-error"},bs={class:"form-control w-ful"},ms=s("label",{class:"label"},[s("span",{class:"label-text"},"Invoice Number")],-1),_s={key:0,class:"label"},hs={class:"label-text-alt text-error"},fs={class:"form-control w-ful"},gs=s("label",{class:"label"},[s("span",{class:"label-text"},"Jumlah Pinjaman")],-1),vs={key:0,class:"label"},xs={class:"label-text-alt text-error"},ys={class:"form-control w-ful"},js=s("label",{class:"label"},[s("span",{class:"label-text"},"Keterangan")],-1),ks=["readonly"],ws={key:0,class:"label"},Ps={class:"label-text-alt text-error"},Ss=s("div",{class:"card-actions justify-end mt-4"},[s("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Fs={__name:"FarmerLoan",props:{farmer:Object},setup(g){const l=g,c=f(!1);f();const e=j({print:!1,type:"farmer",id:l.farmer.id,date:"",invoice_number:"OTOMATIS",amount:"",description:""}),v=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.loan.farmer.index"),label:"Pinjaman"},{url:null,label:"Petani : "+l.farmer.name}],h=()=>{e.post(route("transaction.loan.farmer.store"),{onSuccess:()=>{y()}})},x=()=>{e.print=!0,h()},y=()=>{e.clearErrors(),e.reset(),e.defaults({invoice_number:"OTOMATIS",print:!1,date:null,amount:null,description:null})};return(Ts,a)=>(d(),i(S,null,[r(t(T),{title:"Pinjaman Petani"}),r(V,{links:v}),r(F,{classes:"bg-base-content"},{default:k(()=>[p("Pinjaman Petani")]),_:1}),u(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),class:"modal-toggle"},null,512),[[w,c.value]]),s("div",O,[s("div",U,[$,B,s("div",D,[s("button",{type:"button",onClick:h,disabled:!t(e).date||!t(e).amount,class:"btn btn-primary"},[r(m,{path:t(C)},null,8,["path"]),p(" Simpan")],8,A),s("button",{type:"button",onClick:x,disabled:!t(e).date||!t(e).amount,class:"btn btn-primary"},[r(m,{path:t(I)},null,8,["path"]),p(" Simpan dan Print")],8,H),s("button",{type:"button",onClick:a[1]||(a[1]=o=>c.value=!1),class:"btn btn-warning"},[r(m,{path:t(N)},null,8,["path"]),p(" Batal")])])])]),s("section",J,[s("div",K,[s("div",R,[E,L,s("table",Q,[s("tbody",null,[s("tr",q,[z,s("td",G,n(l.farmer.name),1)]),s("tr",W,[X,s("td",Y,n(l.farmer.address),1)]),s("tr",Z,[ss,s("td",es,n(l.farmer.phone),1)]),s("tr",ts,[as,s("td",os,n(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l.farmer.loan?l.farmer.loan.balance:0)),1)])])])])]),s("div",ns,[s("div",ls,[s("form",{onSubmit:a[6]||(a[6]=P(o=>c.value=!0,["prevent"]))},[s("div",rs,[s("div",is,[ds,u(s("input",{readonly:t(e).processing,"onUpdate:modelValue":a[2]||(a[2]=o=>t(e).date=o),type:"date",placeholder:"Tanggal Pinjaman",class:"input input-success input-bordered w-full"},null,8,cs),[[_,t(e).date]]),t(e).errors.date?(d(),i("label",us,[s("span",ps,n(t(e).errors.date),1)])):b("",!0)]),s("div",bs,[ms,u(s("input",{disabled:"","onUpdate:modelValue":a[3]||(a[3]=o=>t(e).invoice_number=o),type:"text",class:"input input-success input-bordered w-full"},null,512),[[_,t(e).invoice_number]]),t(e).errors.invoice_number?(d(),i("label",_s,[s("span",hs,n(t(e).errors.invoice_number),1)])):b("",!0)])]),s("div",fs,[gs,r(t(M),{options:{precision:0,prefix:"Rp ",isInteger:!0},readonly:t(e).processing,value:t(e).amount,"onUpdate:value":a[4]||(a[4]=o=>t(e).amount=o),placeholder:"Jumlah Pinjaman",class:"input input-success input-bordered w-full"},null,8,["readonly","value"]),t(e).errors.amount?(d(),i("label",vs,[s("span",xs,n(t(e).errors.amount),1)])):b("",!0)]),s("div",ys,[js,u(s("textarea",{readonly:t(e).processing,"onUpdate:modelValue":a[5]||(a[5]=o=>t(e).description=o),type:"text",placeholder:"Keterangan",class:"textarea textarea-success textarea-bordered w-full"},null,8,ks),[[_,t(e).description]]),t(e).errors.description?(d(),i("label",ws,[s("span",Ps,n(t(e).errors.description),1)])):b("",!0)]),Ss],32)])])])],64))}};export{Fs as default};
