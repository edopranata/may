import{g as k,u as w,z as j,A as N,B as P,C as D,c as d,a as l,b as c,e as h,i as m,x as I,d as s,t as o,y as M,F as x,n as C,k as F,j as V,o as i,H as B,f as _,L as g,q as S,_ as $}from"./app.f33b5c0d.js";import{_ as L}from"./Breadcrumb.de4c8a73.js";import{_ as T}from"./PageTitle.dd8debfd.js";import{_ as A}from"./Pagination.e303f81d.js";const R={for:"modal-option",class:"modal cursor-pointer modal-lg"},H={class:"modal-box relative",for:""},U={class:"px-4 grid grid-cols-2 gap-4"},q={class:"overflow-x-auto col-span-2"},z={class:"w-full text-left text-base"},E=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"Nama"),s("th",{class:"py-3 px-6"},"Pinjaman")])],-1),O={class:"py-3 px-6"},G={class:"font-bold"},J={class:"text-sm opacity-50"},K={class:"py-3 px-6"},Q={class:"px-4 grid xl:grid-cols-4 md:grid-cols-3 gap-4 mb-4"},W={class:"form-control"},X={class:"px-4 grid gap-4"},Y={class:"overflow-x-auto"},Z={class:"w-full text-left text-base"},ss=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Nama Mandor"),s("th",{class:"py-3 px-6"},"Alamat"),s("th",{class:"py-3 px-6"},"No Telepon"),s("th",{class:"py-3 px-6"},"Pinjaman"),s("th",{class:"py-3 px-6"})])],-1),as=["onClick"],es={class:"group-hover:bg-base-300 py-4 px-6"},ts={class:"group-hover:bg-base-300 py-4 px-6"},os={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},rs={class:"max-w-xs"},ns={class:"group-hover:bg-base-300 py-4 px-6"},ls={class:"group-hover:bg-base-300 py-4 px-6"},cs={class:"group-hover:bg-base-300 py-4 px-6"},is={key:1},ds=s("td",{colspan:"5",class:"text-center border-b-2"},"No Data",-1),ps=[ds],xs={__name:"SupervisorLoanIndex",props:{search:String,supervisors:Object},setup(f){const r=f,p=k(!1),u=w({search:r.search});j(u,N.exports.debounce(n=>{P.Inertia.get(route("transaction.loan.supervisor.index"),{search:n.search},{preserveState:!0,replace:!0})},500));const a=D({id:0,name:"",phone:"",address:"",loan:""}),y=[{url:route("transaction.index"),label:"Transaksi"},{url:null,label:"Pinjaman Mandor"}],v=function(n){let e=r.supervisors.data[n];a.id=e.id,a.name=e.name,a.phone=e.phone,a.address=e.address,a.loan=e.loan?e.loan.balance:0,p.value=!0};return(n,e)=>(i(),d(x,null,[l(c(B),{title:"Pinjaman Mandor"}),l(L,{links:y}),l(T,{classes:"bg-base-content"},{default:h(()=>[_("Pinjaman Mandor")]),_:1}),m(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),class:"modal-toggle"},null,512),[[I,p.value]]),s("label",R,[s("label",H,[s("span",U,[s("span",q,[s("table",z,[E,s("tbody",null,[s("tr",null,[s("td",O,[s("div",G,o(a.name),1),s("div",J,o(a.phone),1)]),s("td",K,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.loan)),1)])])])]),l(c(g),{as:"button",href:a.id?n.route("transaction.loan.supervisor.show",a.id):"",class:"btn btn-xl btn-success btn-block pt-10 pb-14"},{default:h(()=>[_("Pengajuan Pinjaman")]),_:1},8,["href"]),l(c(g),{as:"button",disabled:a.loan<1,href:a.id?n.route("transaction.loan.supervisor.edit",a.id):"",class:"btn btn-xl btn-warning btn-block pt-10 pb-14"},{default:h(()=>[_("Pembayaran Pinjaman")]),_:1},8,["disabled","href"])])])]),s("section",Q,[s("div",W,[m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>c(u).search=t),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[M,c(u).search]])])]),s("section",X,[s("div",Y,[s("table",Z,[ss,s("tbody",null,[r.supervisors.data.length?(i(!0),d(x,{key:0},C(r.supervisors.data,(t,b)=>(i(),d("tr",{class:"hover:cursor-pointer group border-b",onClick:us=>v(b)},[s("th",es,o(r.supervisors.from+b),1),s("td",ts,o(t.name),1),s("td",os,[s("p",rs,o(t.address),1)]),s("td",ns,o(t.phone),1),s("td",ls,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t.loan?t.loan.balance:0)),1),s("td",cs,[l($,{path:c(S)},null,8,["path"])])],8,as))),256)):(i(),d("tr",is,ps))])]),r.supervisors.data.length?(i(),F(A,{key:0,links:r.supervisors.links},null,8,["links"])):V("",!0)])])],64))}};export{xs as default};
