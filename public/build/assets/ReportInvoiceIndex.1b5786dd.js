import{g as N,u as F,z as w,A as C,B as R,C as B,c,a as p,b as i,e as b,i as h,x as P,d as t,t as o,y as g,F as v,n as j,f as _,k as y,j as x,o as r,H as V,L as f,s as U,q as $,_ as L}from"./app.1b38ef22.js";import{_ as S}from"./Breadcrumb.cb73cb46.js";import{_ as T}from"./PageTitle.0dcaf6ba.js";import{_ as M}from"./Pagination.9194b4da.js";const z={class:"modal"},A={class:"modal-box w-11/12 max-w-5xl",for:""},H={class:"w-full text-left text-base"},q=t("thead",{class:"uppercase bg-primary/20"},[t("tr",null,[t("th",{class:"py-1 px-2"},"Invoice Number"),t("th",{class:"py-1 px-2"},"Nama"),t("th",{class:"py-1 px-2 text-right",colspan:"2"},"Rincian")])],-1),E={class:"group-hover:bg-base-300 px-2 align-top",rowspan:"4"},G={class:"font-bold"},J={class:"text-sm opacity-50"},O={class:"group-hover:bg-base-300 px-2 align-top",rowspan:"4"},K={class:"font-bold"},Q={class:"text-sm opacity-50"},W=t("td",{class:"group-hover:bg-base-300 px-2 text-right font-bold"},"Total",-1),X={class:"group-hover:bg-base-300 px-2 text-right font-bold"},Y=t("td",{class:"group-hover:bg-base-300 px-2 text-right font-bold"},"Pinjaman",-1),Z={class:"group-hover:bg-base-300 px-2 text-right font-bold"},tt=t("td",{class:"group-hover:bg-base-300 px-2 text-right"},"Bayar Pinjaman",-1),et={class:"group-hover:bg-base-300 px-2 text-right"},st=t("td",{class:"group-hover:bg-base-300 px-2 text-right font-bold"},"Uang Diterima",-1),ot={class:"group-hover:bg-base-300 px-2 text-right font-bold"},at={class:"modal-action flex justify-between space-x-4"},nt={class:"flex space-x-4"},it={class:"px-4 grid gap-4"},rt={class:"card w-full rounded-none border-2 border-info shadow-xl"},lt={class:"card-body grid gap-4"},ct={class:"flex items-center mb-4"},dt={class:"form-control p-1"},pt=t("label",{class:"label"},[t("span",{class:"label-text"},"Cari Nomor Invoice")],-1),ut={class:"form-control p-1"},_t=t("label",{class:"label"},[t("span",{class:"label-text"},"Cari Berdasarkan Nama")],-1),bt=t("div",{class:"hidden badge-primary badge-secondary badge badge-accent badge-ghost badge-info badge-error"},null,-1),ht={class:"card w-full rounded-none border-2 border-info shadow-xl"},mt={class:"card-body grid gap-4"},gt={class:"w-full text-left text-base"},vt=t("thead",{class:"text-sm uppercase bg-primary/20"},[t("tr",null,[t("th",{class:"py-3 px-6"},"#"),t("th",{class:"py-3 px-6"},"Jenis Pembayaran"),t("th",{class:"py-3 px-6"},"Invoice Number"),t("th",{class:"py-3 px-6"},"Nama"),t("th",{class:"py-3 px-6 text-right"},"Total"),t("th",{class:"py-3 px-6 text-right"},"Pinjaman"),t("th",{class:"py-3 px-6 text-right"},"Bayar Pinjaman"),t("th",{class:"py-3 px-6 text-right"},"Diterima"),t("th",{class:"py-3 px-6"})])],-1),yt=["onClick"],xt={class:"group-hover:bg-base-300 py-4 px-6"},ft={class:"group-hover:bg-base-300 py-4 px-6"},It={class:"group-hover:bg-base-300 py-4 px-6"},Dt={class:"font-bold"},kt={class:"text-sm opacity-50"},Nt={class:"group-hover:bg-base-300 py-4 px-6"},Ft={key:0},wt={class:"font-bold"},Ct={class:"text-sm opacity-50"},Rt={key:1},Bt={class:"font-bold"},Pt={class:"text-sm opacity-50"},jt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Vt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Ut={class:"group-hover:bg-base-300 py-4 px-6 text-right"},$t={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Lt={class:"group-hover:bg-base-300 py-4 px-6"},St={key:1},Tt={colspan:"9",class:"text-center border-b-2"},Et={__name:"ReportInvoiceIndex",props:{search:String,invoice:String,invoices:Object},setup(I){const n=I,D=[{url:route("report.index"),label:"Laporan"},{url:route("report.invoice.index"),label:"Cetak Invoice"},{url:null,label:"Cetak Ulang Invoice"}],u=N(!1),d=F({search:n.search,invoice:n.invoice});w(d,C.exports.debounce(function(l){R.Inertia.get(route("report.invoice.index"),{search:l.search,invoice:l.invoice},{preserveState:!0,replace:!0})},500),{deep:!0});const s=B({id:0,type:[],invoice_number:"",invoice_date:"",name:"",phone:"",total_buy:"",loan:"",loan_installment:"",total:""}),k=function(l){let a=n.invoices.data[l];s.id=a.id,s.type=a.type,s.invoice_number=a.invoice_number,s.invoice_date=a.invoice_date,s.name=a.modelable.name,s.phone=a.modelable.phone,s.total_buy=a.total_buy,s.loan=a.loan,s.loan_installment=a.loan_installment,s.total=a.total,u.value=!0};return(l,a)=>(r(),c(v,null,[p(i(V),{title:"Invoice Pembayaran"}),p(S,{links:D}),p(T,{classes:"bg-base-content",class:""},{default:b(()=>[_("Cetak Ulang Invoice")]),_:1}),h(t("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),class:"modal-toggle"},null,512),[[P,u.value]]),t("div",z,[t("div",A,[t("table",H,[q,t("tbody",null,[t("tr",null,[t("td",E,[t("div",null,[t("div",G,o(s.invoice_number),1),t("div",J,o(s.invoice_date),1)])]),t("td",O,[t("div",null,[t("div",K,o(s.name),1),t("div",Q,o(s.phone),1)])]),W,t("td",X,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.total_buy)),1)]),t("tr",null,[Y,t("td",Z,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.loan)),1)]),t("tr",null,[tt,t("td",et,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.loan_installment)),1)]),t("tr",null,[st,t("td",ot,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.total)),1)])])]),t("div",at,[t("div",nt,[p(i(f),{as:"button",href:s.type?s.type.url_print:"",class:"btn btn-success"},{default:b(()=>[_("Print Invoice")]),_:1},8,["href"])]),t("button",{class:"btn btn-error",onClick:a[1]||(a[1]=e=>u.value=!1)},"Batalkan")])])]),t("section",it,[t("div",rt,[t("div",lt,[t("div",ct,[t("div",dt,[pt,h(t("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>i(d).invoice=e),type:"text",placeholder:"Cari Invoice Number",class:"input input-success input-bordered"},null,512),[[g,i(d).invoice]])]),t("div",ut,[_t,h(t("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>i(d).search=e),type:"text",placeholder:"Cari Nama",class:"input input-success input-bordered"},null,512),[[g,i(d).search]])])])])]),bt,t("div",ht,[t("div",mt,[t("table",gt,[vt,t("tbody",null,[n.invoices.data.length?(r(!0),c(v,{key:0},j(n.invoices.data,(e,m)=>(r(),c("tr",{class:"hover:cursor-pointer group border-b",onClick:Mt=>k(m)},[t("th",xt,o(n.invoices.from+m),1),t("td",ft,[t("div",{class:U([e.type.badge,"badge badge-md"])},o(e.type.title),3)]),t("td",It,[t("div",null,[t("div",Dt,o(e.invoice_number),1),t("div",kt,o(e.invoice_date),1)])]),t("td",Nt,[e.type.name==="car"?(r(),c("div",Ft,[t("div",wt,o(e.modelable?e.modelable.no_pol:""),1),t("div",Ct,o(e.modelable?e.modelable.name:""),1)])):(r(),c("div",Rt,[t("div",Bt,o(e.modelable?e.modelable.name:""),1),t("div",Pt,o(e.modelable?e.modelable.phone:""),1)]))]),t("td",jt,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.total_buy)),1),t("td",Vt,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.loan)),1),t("td",Ut,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.loan_installment)),1),t("td",$t,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.total)),1),t("td",Lt,[p(L,{path:i($)},null,8,["path"])])],8,yt))),256)):(r(),c("tr",St,[t("td",Tt,[_("No Data "),n.invoices.current_page>1?(r(),y(i(f),{key:0,class:"link link-primary",href:l.route("report.invoice.search.index")},{default:b(()=>[_("Goto First Page")]),_:1},8,["href"])):x("",!0)])]))])]),n.invoices.data.length?(r(),y(M,{key:0,links:n.invoices.links},null,8,["links"])):x("",!0)])])])],64))}};export{Et as default};
