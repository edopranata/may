import{g as x,u as y,c as a,a as m,b as o,i as r,x as v,d as s,w as g,y as d,t as i,j as c,e as k,F as U,o as n,H as V,f as P}from"./app.1b38ef22.js";import{_ as C}from"./Breadcrumb.cb73cb46.js";import{_ as N}from"./PageTitle.0dcaf6ba.js";const B={for:"modal-edit",class:"modal cursor-pointer"},S={class:"modal-box relative",for:""},j=s("h3",{class:"font-bold text-lg"},"Ubah Password",-1),E=["onSubmit"],D={class:"form-control w-full my-4"},F=["readonly"],M={key:0,class:"label"},$={class:"label-text-alt text-error"},G={class:"form-control w-full my-4"},H=["readonly"],L={key:0,class:"label"},T={class:"label-text-alt text-error"},I={class:"form-control w-full my-4 col-span-2"},O=["readonly"],q={key:0,class:"label"},z={class:"label-text-alt text-error"},A={class:"px-4 grid gap-4 md:grid-cols-2"},J={class:"card w-full rounded-none border-2 border-info shadow-xl"},K={class:"card-body"},Q={class:"form-control w-full"},R=s("label",{class:"label"},[s("span",{class:"label-text"},"Nama Lengkap")],-1),W={key:0,class:"label"},X={class:"label-text-alt text-error"},Y={class:"form-control w-full"},Z=s("label",{class:"label"},[s("span",{class:"label-text"},"Email")],-1),ss={key:0,class:"label"},es={class:"label-text-alt text-error"},os={class:"form-control w-full"},ls=s("label",{class:"label"},[s("span",{class:"label-text"},"Username")],-1),ts={key:0,class:"label"},as={class:"label-text-alt text-error"},rs={class:"card-actions justify-between mt-4"},us={__name:"ProfileIndex",props:{user:{type:Object}},setup(f){const u=f,w=[{url:null,label:"Profile"}],p=x(!1),e=y({name:u.user.name,email:u.user.email,username:u.user.username,current_password:"",password:"",password_confirmation:""}),h=()=>{e.patch(route("profile.update",u.user.id),{onSuccess:()=>{b()}})},_=()=>{e.patch(route("profile.password",u.user.id),{onSuccess:()=>{b()}})},b=()=>{e.clearErrors(),e.reset(),e.defaults({name:null,email:null,username:null,current_password:"",password:"",password_confirmation:""}),p.value=!1};return(ns,l)=>(n(),a(U,null,[m(o(V),{title:"Profile"}),r(s("input",{type:"checkbox",id:"modal-edit","onUpdate:modelValue":l[0]||(l[0]=t=>p.value=t),class:"modal-toggle"},null,512),[[v,p.value]]),s("label",B,[s("label",S,[j,s("form",{onSubmit:g(_,["prevent"])},[s("div",D,[r(s("input",{readonly:o(e).processing,"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).current_password=t),type:"password",placeholder:"Password saat ini",class:"input input-bordered w-full"},null,8,F),[[d,o(e).current_password]]),o(e).errors.current_password?(n(),a("label",M,[s("span",$,i(o(e).errors.current_password),1)])):c("",!0)]),s("div",G,[r(s("input",{readonly:o(e).processing,"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).password=t),type:"password",placeholder:"Password Baru",class:"input input-bordered w-full"},null,8,H),[[d,o(e).password]]),o(e).errors.password?(n(),a("label",L,[s("span",T,i(o(e).errors.password),1)])):c("",!0)]),s("div",I,[r(s("input",{readonly:o(e).processing,"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).password_confirmation=t),type:"password",placeholder:"Ulangi Password Baru",class:"input input-bordered w-full"},null,8,O),[[d,o(e).password_confirmation]]),o(e).errors.password_confirmation?(n(),a("label",q,[s("span",z,i(o(e).errors.password_confirmation),1)])):c("",!0)]),s("div",{class:"flex justify-end"},[s("button",{onClick:_,class:"btn btn-info"},"Ganti Password")])],40,E)])]),m(C,{links:w}),m(N,{classes:"bg-base-content",class:""},{default:k(()=>[P("Profile")]),_:1}),s("section",A,[s("div",J,[s("div",K,[s("div",Q,[R,r(s("input",{"onUpdate:modelValue":l[4]||(l[4]=t=>o(e).name=t),type:"text",placeholder:"Nama Lengkap",class:"input input-bordered w-full"},null,512),[[d,o(e).name]]),o(e).errors.name?(n(),a("label",W,[s("span",X,i(o(e).errors.name),1)])):c("",!0)]),s("div",Y,[Z,r(s("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>o(e).email=t),type:"email",placeholder:"Email",class:"input input-bordered w-full"},null,512),[[d,o(e).email]]),o(e).errors.email?(n(),a("label",ss,[s("span",es,i(o(e).errors.email),1)])):c("",!0)]),s("div",os,[ls,r(s("input",{"onUpdate:modelValue":l[6]||(l[6]=t=>o(e).username=t),type:"text",placeholder:"Username",class:"input input-bordered w-full"},null,512),[[d,o(e).username]]),o(e).errors.username?(n(),a("label",ts,[s("span",as,i(o(e).errors.username),1)])):c("",!0)]),s("div",rs,[s("button",{onClick:h,class:"btn btn-primary"},"Ubah Data"),s("button",{onClick:l[7]||(l[7]=t=>p.value=!0),type:"button",class:"btn btn-error"},"Ganti password")])])])])],64))}};export{us as default};
