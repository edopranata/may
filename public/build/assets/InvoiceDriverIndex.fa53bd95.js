import{g as v,u as I,c as l,a as i,b as o,e as m,i as x,x as D,d as t,_ as p,f as u,I as F,F as _,n as y,j as f,k as S,o as n,H as C,Q as G,L as N,R as L,t as a,q as V}from"./app.f33b5c0d.js";import{_ as $}from"./Breadcrumb.de4c8a73.js";import{_ as B}from"./PageTitle.dd8debfd.js";import{_ as R}from"./Pagination.e303f81d.js";const T={class:"modal modal-bottom sm:modal-middle"},P={class:"modal-box"},H=t("h3",{class:"font-bold text-lg"},"Lanjutkan proses perhitungan gaji",-1),U=t("p",{class:"py-4"},"Klik Lihat Perhitungan Gaji, untuk mengetahui rincian dan total gaji yang akan diterima",-1),A={class:"modal-action flex justify-between"},K={class:"px-4 grid gap-4"},M={class:"card w-full rounded-none border-2 border-info shadow-xl"},q={class:"card-body grid md:grid-cols-4 gap-4"},E={class:"form-control w-full"},J=t("label",{class:"label"},[t("span",{class:"label-text"},"Supir")],-1),O=["disabled"],Q=t("option",{value:"0"},"Pilih Supir",-1),z=["value"],W={class:"grid grid-cols-2 gap-4 py-1"},X=["disabled"],Y=["disabled"],Z={class:"card w-full rounded-none border-2 border-info shadow-xl"},tt={class:"card-body"},et={class:"w-full text-left text-base"},st=t("thead",{class:"text-sm uppercase bg-primary/20"},[t("tr",null,[t("th",{class:"py-3 px-6"},"#"),t("th",{class:"py-3 px-6"},"Tanggal"),t("th",{class:"py-3 px-6"},"Supir"),t("th",{class:"py-3 px-6 text-center"},"Jumlah"),t("th",{class:"py-3 px-6 text-right"},"Tonase"),t("th",{class:"py-3 px-6 text-right"},"Gaji (Rp / Kg)"),t("th",{class:"py-3 px-6 text-right"},"Total"),t("th",{class:"py-3 px-6"})])],-1),at={class:"hover:cursor-pointer group border-b"},ot={class:"group-hover:bg-base-300 py-4 px-6"},rt={class:"group-hover:bg-base-300 py-4 px-6"},it={class:"group-hover:bg-base-300 py-4 px-6"},nt={class:"font-bold"},dt={class:"text-sm opacity-50"},lt={class:"group-hover:bg-base-300 py-4 px-6 text-center"},ct={class:"group-hover:bg-base-300 py-4 px-6 text-right"},pt={class:"group-hover:bg-base-300 py-4 px-6 text-right"},ut={class:"group-hover:bg-base-300 py-4 px-6 text-right"},_t={class:"group-hover:bg-base-300 py-4 px-6"},mt={__name:"InvoiceDriverIndex",props:{driver_id:String,drivers:Array,trades:Object},setup(k){var h;const s=k,c=v(!1);v();const w=[{url:route("transaction.index"),label:"Transaksi"},{url:route("transaction.invoice.index"),label:"Invoice"},{url:null,label:"Gaji Supir"}],d=I({driver_id:(h=s.driver_id)!=null?h:0}),j=()=>{d.get(route("transaction.invoice.driver.index"))};return(b,r)=>(n(),l(_,null,[i(o(C),{title:"Gaji Supir"}),i($,{links:w}),i(B,{classes:"bg-base-content"},{default:m(()=>[u("Gaji Supir")]),_:1}),x(t("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),class:"modal-toggle"},null,512),[[D,c.value]]),t("div",T,[t("div",P,[H,U,t("div",A,[i(o(N),{as:"button",disabled:s.trades.total<1,href:s.driver_id?b.route("transaction.invoice.driver.show",s.driver_id):b.route("transaction.invoice.driver.index"),class:"btn btn-primary"},{default:m(()=>[i(p,{path:o(G)},null,8,["path"]),u(" Lihat Perhitungan Gaji")]),_:1},8,["disabled","href"]),t("button",{type:"button",onClick:r[1]||(r[1]=e=>c.value=!1),class:"btn btn-warning"},[i(p,{path:o(L)},null,8,["path"]),u(" Batal")])])])]),t("section",K,[t("div",M,[t("div",q,[t("div",E,[J,x(t("select",{disabled:o(d).processing,"onUpdate:modelValue":r[2]||(r[2]=e=>o(d).driver_id=e),class:"select select-info select-bordered"},[Q,(n(!0),l(_,null,y(s.drivers,(e,g)=>(n(),l("option",{value:e.id,key:e.id},a(e.text.toUpperCase()),9,z))),128))],8,O),[[F,o(d).driver_id]])]),t("div",W,[t("button",{disabled:o(d).processing,onClick:j,class:"btn mt-8"},"Filter",8,X),t("button",{disabled:s.driver_id<1||s.trades.total<1,onClick:r[3]||(r[3]=e=>c.value=!0),class:"btn btn-primary mt-8"},"Hitung Gaji",8,Y)])])]),t("div",Z,[t("div",tt,[t("table",et,[st,t("tbody",null,[s.trades.data.length?(n(!0),l(_,{key:0},y(s.trades.data,(e,g)=>(n(),l("tr",at,[t("th",ot,a(s.trades.from+g),1),t("td",rt,a(e.trade_date),1),t("td",it,[t("div",null,[t("div",nt,a(e.driver.name),1),t("div",dt,a(e.car.no_pol)+" - "+a(e.car.name),1)])]),t("td",lt,a(e.details.length)+" Petani",1),t("td",ct,a(Intl.NumberFormat("id-ID",{style:"unit",unit:"kilogram"}).format(e.net_weight)),1),t("td",pt,a(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.driver.price?e.driver.price.value:"")),1),t("td",ut,a(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format((e.driver.price?e.driver.price.value:0)*e.net_weight)),1),t("td",_t,[i(p,{path:o(V)},null,8,["path"])])]))),256)):f("",!0)])]),s.trades.data.length?(n(),S(R,{key:0,links:s.trades.links},null,8,["links"])):f("",!0)])])])],64))}};export{mt as default};
