import{g as x,u as v,z as I,A as K,B as $,c as d,a as h,b as s,i as c,x as V,d as e,w as k,y as u,t as r,j as p,s as w,e as M,F as S,n as L,f as T,k as U,o as n,H as E,_ as G,L as z}from"./app.1b38ef22.js";import{_ as H}from"./Breadcrumb.cb73cb46.js";import{_ as R}from"./Pagination.9194b4da.js";import{_ as O}from"./PageTitle.0dcaf6ba.js";import{m as P}from"./mdi.ef20bf61.js";const q={for:"modal-create",class:"modal cursor-pointer"},J={class:"modal-box relative",for:""},Q=e("h3",{class:"font-bold text-lg"},"Tambah data petani",-1),W=["onSubmit"],X={class:"form-control w-full my-4 col-span-2"},Y=e("label",{class:"label"},"Nama Tukang Muat",-1),Z=["readonly"],ee={key:0,class:"label"},se={class:"label-text-alt text-error"},te={class:"grid md:grid-cols-2 gap-4"},ae={class:"form-control w-full my-4"},le=e("label",{class:"label"},"Biaya / Kg",-1),oe=["readonly"],re={key:0,class:"label"},ne={class:"label-text-alt text-error"},de={class:"form-control w-full my-4"},ce=e("label",{class:"label"},"No Telepon",-1),ie=["readonly"],pe={key:0,class:"label"},ue={class:"label-text-alt text-error"},_e={class:"form-control w-full my-4"},be=e("label",{class:"label"},"Alamat",-1),me=["readonly"],he={key:0,class:"label"},ye={class:"label-text-alt text-error"},fe={class:"flex justify-between"},ge=["disabled"],xe={for:"modal-edit",class:"modal cursor-pointer"},ve={class:"modal-box relative",for:""},ke={class:"font-bold text-lg"},we=["onSubmit"],Te={class:"form-control w-full my-4"},Ne=e("label",{class:"label"},"Nama Tukang Muat",-1),Ve=["readonly"],Me={key:0,class:"label"},Se={class:"label-text-alt text-error"},Ue={class:"grid md:grid-cols-2 gap-4"},Be={class:"form-control w-full my-4"},De=e("label",{class:"label"},"Biaya / Kg",-1),Ce=["readonly"],Ae={key:0,class:"label"},je={class:"label-text-alt text-error"},Fe={class:"form-control w-full my-4"},Ie=e("label",{class:"label"},"No Telepon",-1),Ke=["readonly"],$e={key:0,class:"label"},Le={class:"label-text-alt text-error"},Ee={class:"form-control w-full my-4"},Ge=e("label",{class:"label"},"Alamat",-1),ze=["readonly"],He={key:0,class:"label"},Re={class:"label-text-alt text-error"},Oe={class:"flex justify-between"},Pe=["disabled"],qe=["disabled","onClick"],Je={class:"px-4 grid gap-4"},Qe={class:"flex justify-between items-center mb-4"},We={class:"form-control"},Xe={class:"w-full text-left text-base"},Ye=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Nama Tukang Muat"),e("th",{class:"py-3 px-6"},"No Telepon"),e("th",{class:"py-3 px-6"},"Alamat"),e("th",{class:"py-3 px-6"},"Gaji / KG"),e("th",{class:"py-3 px-6"})])],-1),Ze=["onClick"],es={class:"group-hover:bg-base-300 py-4 px-6"},ss={class:"group-hover:bg-base-300 py-4 px-6"},ts={class:"group-hover:bg-base-300 py-4 px-6"},as={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},ls={class:"max-w-xs"},os={class:"group-hover:bg-base-300 py-4 px-6"},rs={class:"group-hover:bg-base-300 py-4 px-6"},ns={key:1},ds={colspan:"6",class:"text-center border-b-2"},ms={__name:"LoaderIndex",props:{search:String,loaders:{type:Object},price:{type:Number,default:0}},setup(B){const i=B,D=[{url:route("data.index"),label:"Data"},{url:null,label:"Tukang Muat"}],y=x(!1),m=x(!1),f=x(null),o=v({name:"",price:i.price,phone:"",address:""}),t=v({name:"",price:i.price,phone:"",address:""}),g=v({search:i.search});I(g,K.exports.debounce(b=>{$.Inertia.get(route("data.driver.index"),{search:b.search},{preserveState:!0,replace:!0})},500));const C=()=>{o.post(route("data.loader.store"),{onSuccess:()=>{_()}})},A=b=>{_();let a=i.loaders.data[b];f.value=a.id,t.name=a.name,t.address=a.address,t.phone=a.phone,t.price=a.price?a.price.value:0,m.value=!0},j=()=>{t.patch(route("data.loader.update",f.value),{onSuccess:()=>{_()}})},_=()=>{t.clearErrors(),o.clearErrors(),t.reset(),o.reset(),t.defaults({name:null,price:null,address:null,phone:null}),o.defaults({name:null,price:null,address:null,phone:null}),m.value=!1,y.value=!1},F=()=>{t.delete(route("data.loader.destroy",f.value),{onSuccess:()=>{_()}})};return(b,a)=>(n(),d(S,null,[h(s(E),{title:"Tukang Muat"}),c(e("input",{type:"checkbox",id:"modal-create","onUpdate:modelValue":a[0]||(a[0]=l=>y.value=l),class:"modal-toggle"},null,512),[[V,y.value]]),e("label",q,[e("label",J,[Q,e("form",{onSubmit:k(C,["prevent"])},[e("div",X,[Y,c(e("input",{readonly:s(o).processing,"onUpdate:modelValue":a[1]||(a[1]=l=>s(o).name=l),type:"text",placeholder:"Nama Tukang Muat",class:"input input-bordered w-full"},null,8,Z),[[u,s(o).name]]),s(o).errors.name?(n(),d("label",ee,[e("span",se,r(s(o).errors.name),1)])):p("",!0)]),e("div",te,[e("div",ae,[le,c(e("input",{readonly:s(o).processing,"onUpdate:modelValue":a[2]||(a[2]=l=>s(o).price=l),type:"text",placeholder:"Biaya / Kg",class:"input input-bordered w-full"},null,8,oe),[[u,s(o).price]]),s(o).errors.price?(n(),d("label",re,[e("span",ne,r(s(o).errors.price),1)])):p("",!0)]),e("div",de,[ce,c(e("input",{readonly:s(o).processing,"onUpdate:modelValue":a[3]||(a[3]=l=>s(o).phone=l),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,ie),[[u,s(o).phone]]),s(o).errors.phone?(n(),d("label",pe,[e("span",ue,r(s(o).errors.phone),1)])):p("",!0)])]),e("div",_e,[be,c(e("textarea",{readonly:s(o).processing,"onUpdate:modelValue":a[4]||(a[4]=l=>s(o).address=l),type:"text",placeholder:"Alamat",class:"textarea textarea-bordered w-full"},null,8,me),[[u,s(o).address]]),s(o).errors.address?(n(),d("label",he,[e("span",ye,r(s(o).errors.address),1)])):p("",!0)]),e("div",fe,[e("button",{disabled:s(o).processing,type:"submit",class:w(["btn btn-primary",s(o).processing?"loading":""])},"Save",10,ge)])],40,W)])]),c(e("input",{type:"checkbox",id:"modal-edit","onUpdate:modelValue":a[5]||(a[5]=l=>m.value=l),class:"modal-toggle"},null,512),[[V,m.value]]),e("label",xe,[e("label",ve,[e("h3",ke,"Ubah Data Tukang Muat "+r(s(t).name),1),e("form",{onSubmit:k(j,["prevent"])},[e("div",Te,[Ne,c(e("input",{readonly:s(t).processing,"onUpdate:modelValue":a[6]||(a[6]=l=>s(t).name=l),type:"text",placeholder:"Nama Tukang Muat",class:"input input-bordered w-full"},null,8,Ve),[[u,s(t).name]]),s(t).errors.name?(n(),d("label",Me,[e("span",Se,r(s(t).errors.name),1)])):p("",!0)]),e("div",Ue,[e("div",Be,[De,c(e("input",{readonly:s(t).processing,"onUpdate:modelValue":a[7]||(a[7]=l=>s(t).price=l),type:"text",placeholder:"Biaya / Kg",class:"input input-bordered w-full"},null,8,Ce),[[u,s(t).price]]),s(t).errors.price?(n(),d("label",Ae,[e("span",je,r(s(t).errors.price),1)])):p("",!0)]),e("div",Fe,[Ie,c(e("input",{readonly:s(t).processing,"onUpdate:modelValue":a[8]||(a[8]=l=>s(t).phone=l),type:"text",placeholder:"No Telepon",class:"input input-bordered w-full"},null,8,Ke),[[u,s(t).phone]]),s(t).errors.phone?(n(),d("label",$e,[e("span",Le,r(s(t).errors.phone),1)])):p("",!0)])]),e("div",Ee,[Ge,c(e("textarea",{readonly:s(t).processing,"onUpdate:modelValue":a[9]||(a[9]=l=>s(t).address=l),type:"text",placeholder:"Alamat",class:"textarea textarea-bordered w-full"},null,8,ze),[[u,s(t).address]]),s(t).errors.address?(n(),d("label",He,[e("span",Re,r(s(t).errors.address),1)])):p("",!0)]),e("div",Oe,[e("button",{disabled:s(t).processing,type:"submit",class:w(["btn btn-primary",s(t).processing?"loading":""])},"Save",10,Pe),e("button",{disabled:s(t).processing,onClick:k(F,["prevent"]),type:"button",class:w(["btn btn-error",s(t).processing?"loading":""])},"Delete",10,qe)])],40,we)])]),h(H,{links:D}),h(O,{classes:"bg-base-content",class:""},{default:M(()=>[T("Data Tukang Muat")]),_:1}),e("section",Je,[e("div",null,[e("div",Qe,[e("div",We,[c(e("input",{"onUpdate:modelValue":a[10]||(a[10]=l=>s(g).search=l),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[u,s(g).search]])]),e("label",{onClick:_,for:"modal-create",class:"btn modal-button"},"Tambah Tukang Muat Baru")]),e("table",Xe,[Ye,e("tbody",null,[i.loaders.data.length?(n(!0),d(S,{key:0},L(i.loaders.data,(l,N)=>(n(),d("tr",{class:"hover:cursor-pointer group border-b",onClick:cs=>A(N)},[e("th",es,r(i.loaders.from+N),1),e("td",ss,r(l.name),1),e("td",ts,r(l.phone),1),e("td",as,[e("p",ls,r(l.address),1)]),e("td",os,r(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l.price?l.price.value:0)),1),e("td",rs,[h(G,{path:s(P)},null,8,["path"])])],8,Ze))),256)):(n(),d("tr",ns,[e("td",ds,[T("No Data "),i.loaders.current_page>1?(n(),U(s(z),{key:0,class:"link link-primary",href:b.route("data.loader.index")},{default:M(()=>[T("Goto First Page")]),_:1},8,["href"])):p("",!0)])]))])]),i.loaders.data.length?(n(),U(R,{key:0,links:i.loaders.links},null,8,["links"])):p("",!0)])])],64))}};export{ms as default};
