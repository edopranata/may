import{g as v,u as w,z as j,A as N,B as P,C as D,c as i,a as r,b as c,e as h,i as m,x as I,d as a,t as o,y as T,F as x,n as M,k as C,j as F,o as d,H as V,f as _,L as g,q as B,_ as L}from"./app.1b38ef22.js";import{_ as $}from"./Breadcrumb.cb73cb46.js";import{_ as S}from"./PageTitle.0dcaf6ba.js";import{_ as A}from"./Pagination.9194b4da.js";const R={for:"modal-option",class:"modal cursor-pointer modal-lg"},H={class:"modal-box relative",for:""},U={class:"px-4 grid grid-cols-2 gap-4"},q={class:"overflow-x-auto col-span-2"},z={class:"w-full text-left text-base"},E=a("thead",{class:"text-sm uppercase bg-primary/20"},[a("tr",null,[a("th",{class:"py-3 px-6"},"Nama"),a("th",{class:"py-3 px-6"},"Pinjaman")])],-1),O={class:"py-3 px-6"},G={class:"font-bold"},J={class:"text-sm opacity-50"},K={class:"py-3 px-6"},Q={class:"px-4 grid xl:grid-cols-4 md:grid-cols-3 gap-4 mb-4"},W={class:"form-control"},X={class:"px-4 grid gap-4"},Y={class:"overflow-x-auto"},Z={class:"w-full text-left text-base"},aa=a("thead",{class:"text-sm uppercase bg-primary/20"},[a("tr",null,[a("th",{class:"py-3 px-6"},"#"),a("th",{class:"py-3 px-6"},"Nama Tukang Muat"),a("th",{class:"py-3 px-6"},"Alamat"),a("th",{class:"py-3 px-6"},"No Telepon"),a("th",{class:"py-3 px-6"},"Pinjaman"),a("th",{class:"py-3 px-6"})])],-1),sa=["onClick"],ta={class:"group-hover:bg-base-300 py-4 px-6"},ea={class:"group-hover:bg-base-300 py-4 px-6"},oa={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},na={class:"max-w-xs"},la={class:"group-hover:bg-base-300 py-4 px-6"},ra={class:"group-hover:bg-base-300 py-4 px-6"},ca={class:"group-hover:bg-base-300 py-4 px-6"},da={key:1},ia=a("td",{colspan:"5",class:"text-center border-b-2"},"No Data",-1),pa=[ia],xa={__name:"LoaderLoanIndex",props:{search:String,loaders:Object},setup(f){const n=f,p=v(!1),u=w({search:n.search});j(u,N.exports.debounce(l=>{P.Inertia.get(route("transaction.loan.loader.index"),{search:l.search},{preserveState:!0,replace:!0})},500));const s=D({id:0,name:"",phone:"",address:"",loan:""}),y=[{url:route("transaction.index"),label:"Transaksi"},{url:null,label:"Pinjaman Tukang Muat"}],k=function(l){let t=n.loaders.data[l];s.id=t.id,s.name=t.name,s.phone=t.phone,s.address=t.address,s.distance=t.distance,s.loan=t.loan?t.loan.balance:0,p.value=!0};return(l,t)=>(d(),i(x,null,[r(c(V),{title:"Pinjaman Tukang Muat"}),r($,{links:y}),r(S,{classes:"bg-base-content"},{default:h(()=>[_("Pinjaman Tukang Muat")]),_:1}),m(a("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),class:"modal-toggle"},null,512),[[I,p.value]]),a("label",R,[a("label",H,[a("span",U,[a("span",q,[a("table",z,[E,a("tbody",null,[a("tr",null,[a("td",O,[a("div",G,o(s.name),1),a("div",J,o(s.phone),1)]),a("td",K,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s.loan)),1)])])])]),r(c(g),{as:"button",href:s.id?l.route("transaction.loan.loader.show",s.id):"",class:"btn btn-xl btn-success btn-block pt-10 pb-14"},{default:h(()=>[_("Pengajuan Pinjaman")]),_:1},8,["href"]),r(c(g),{as:"button",disabled:s.loan<1,href:s.id?l.route("transaction.loan.loader.edit",s.id):"",class:"btn btn-xl btn-warning btn-block pt-10 pb-14"},{default:h(()=>[_("Pembayaran Pinjaman")]),_:1},8,["disabled","href"])])])]),a("section",Q,[a("div",W,[m(a("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c(u).search=e),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[T,c(u).search]])])]),a("section",X,[a("div",Y,[a("table",Z,[aa,a("tbody",null,[n.loaders.data.length?(d(!0),i(x,{key:0},M(n.loaders.data,(e,b)=>(d(),i("tr",{class:"hover:cursor-pointer group border-b",onClick:ua=>k(b)},[a("th",ta,o(n.loaders.from+b),1),a("td",ea,o(e.name),1),a("td",oa,[a("p",na,o(e.address),1)]),a("td",la,o(e.phone),1),a("td",ra,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e.loan?e.loan.balance:0)),1),a("td",ca,[r(L,{path:c(B)},null,8,["path"])])],8,sa))),256)):(d(),i("tr",da,pa))])]),n.loaders.data.length?(d(),C(A,{key:0,links:n.loaders.links},null,8,["links"])):F("",!0)])])],64))}};export{xa as default};
