import{g as k,u as w,z as j,A as N,B as P,C as D,c as i,a as l,b as c,e as h,i as m,x as I,d as s,t as o,y as S,F as x,n as C,k as F,j as V,o as d,H as B,f as _,L as g,q as $,_ as L}from"./app.f33b5c0d.js";import{_ as T}from"./Breadcrumb.de4c8a73.js";import{_ as A}from"./PageTitle.dd8debfd.js";import{_ as M}from"./Pagination.e303f81d.js";const R={for:"modal-option",class:"modal cursor-pointer modal-lg"},H={class:"modal-box relative",for:""},U={class:"px-4 grid grid-cols-2 gap-4"},q={class:"overflow-x-auto col-span-2"},z={class:"w-full text-left text-base"},E=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"Nama"),s("th",{class:"py-3 px-6"},"Pinjaman")])],-1),O={class:"py-3 px-6"},G={class:"font-bold"},J={class:"text-sm opacity-50"},K={class:"py-3 px-6"},Q={class:"px-4 grid xl:grid-cols-4 md:grid-cols-3 gap-4 mb-4"},W={class:"form-control"},X={class:"px-4 grid gap-4"},Y={class:"w-full text-left text-base"},Z=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Nama Petani"),s("th",{class:"py-3 px-6"},"Alamat"),s("th",{class:"py-3 px-6"},"No Telepon"),s("th",{class:"py-3 px-6"},"Pinjaman"),s("th",{class:"py-3 px-6"})])],-1),ss=["onClick"],as={class:"group-hover:bg-base-300 py-4 px-6"},es={class:"group-hover:bg-base-300 py-4 px-6"},ts={class:"group-hover:bg-base-300 py-4 px-6",style:{"word-wrap":"break-word"}},os={class:"max-w-xs"},rs={class:"group-hover:bg-base-300 py-4 px-6"},ns={class:"group-hover:bg-base-300 py-4 px-6"},ls={class:"group-hover:bg-base-300 py-4 px-6"},cs={key:1},ds=s("td",{colspan:"5",class:"text-center border-b-2"},"No Data",-1),is=[ds],ms={__name:"DriverLoanIndex",props:{search:String,drivers:Object},setup(y){const r=y,p=k(!1),u=w({search:r.search});j(u,N.exports.debounce(n=>{P.Inertia.get(route("transaction.loan.driver.index"),{search:n.search},{preserveState:!0,replace:!0})},500));const a=D({id:0,name:"",phone:"",address:"",loan:""}),f=[{url:route("transaction.index"),label:"Transaksi"},{url:null,label:"Pinjaman Supir"}],v=function(n){let e=r.drivers.data[n];a.id=e.id,a.name=e.name,a.phone=e.phone,a.address=e.address,a.distance=e.distance,a.loan=e.loan?e.loan.balance:0,p.value=!0};return(n,e)=>(d(),i(x,null,[l(c(B),{title:"Pinjaman Supir"}),l(T,{links:f}),l(A,{classes:"bg-base-content"},{default:h(()=>[_("Pinjaman Supir")]),_:1}),m(s("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),class:"modal-toggle"},null,512),[[I,p.value]]),s("label",R,[s("label",H,[s("span",U,[s("span",q,[s("table",z,[E,s("tbody",null,[s("tr",null,[s("td",O,[s("div",G,o(a.name),1),s("div",J,o(a.phone),1)]),s("td",K,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a.loan)),1)])])])]),l(c(g),{as:"button",href:a.id?n.route("transaction.loan.driver.show",a.id):"",class:"btn btn-xl btn-success btn-block pt-10 pb-14"},{default:h(()=>[_("Pengajuan Pinjaman")]),_:1},8,["href"]),l(c(g),{as:"button",disabled:a.loan<1,href:a.id?n.route("transaction.loan.driver.edit",a.id):"",class:"btn btn-xl btn-warning btn-block pt-10 pb-14"},{default:h(()=>[_("Pembayaran Pinjaman")]),_:1},8,["disabled","href"])])])]),s("section",Q,[s("div",W,[m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>c(u).search=t),type:"text",placeholder:"Search\u2026",class:"input input-bordered"},null,512),[[S,c(u).search]])])]),s("section",X,[s("div",null,[s("table",Y,[Z,s("tbody",null,[r.drivers.data.length?(d(!0),i(x,{key:0},C(r.drivers.data,(t,b)=>(d(),i("tr",{class:"hover:cursor-pointer group border-b",onClick:ps=>v(b)},[s("th",as,o(r.drivers.from+b),1),s("td",es,o(t.name),1),s("td",ts,[s("p",os,o(t.address),1)]),s("td",rs,o(t.phone),1),s("td",ns,o(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.loan?t.loan.balance:0)),1),s("td",ls,[l(L,{path:c($)},null,8,["path"])])],8,ss))),256)):(d(),i("tr",cs,is))])]),r.drivers.data.length?(d(),F(M,{key:0,links:r.drivers.links},null,8,["links"])):V("",!0)])])],64))}};export{ms as default};
