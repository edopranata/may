import{g as x,u as w,z as F,A as C,B as R,c as b,a as u,b as l,e as v,i as g,x as B,d as e,t as s,y as _,F as y,n as P,f as p,k as f,j as I,o as r,H as j,L as k,s as V,q as A,_ as S}from"./app.1b38ef22.js";import{_ as $}from"./Breadcrumb.cb73cb46.js";import{_ as z}from"./PageTitle.0dcaf6ba.js";import{_ as L}from"./Pagination.9194b4da.js";const U={class:"modal"},M={class:"modal-box w-11/12 max-w-5xl",for:""},H={class:"w-full text-left text-base"},T=e("thead",{class:"uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-1 px-2"},"Invoice Number"),e("th",{class:"py-1 px-2"},"Nama"),e("th",{class:"py-1 px-2 text-right",colspan:"2"},"Rincian")])],-1),q={class:"group-hover:bg-base-300 px-2 align-top",rowspan:"4"},E={class:"font-bold"},G={class:"text-sm opacity-50"},J={class:"group-hover:bg-base-300 px-2 align-top",rowspan:"4"},O={class:"font-bold"},K={class:"text-sm opacity-50"},Q=e("td",{class:"group-hover:bg-base-300 px-2 text-right font-bold capitalize"},"Pinjaman Awal",-1),W={class:"group-hover:bg-base-300 px-2 text-right font-bold"},X={class:"group-hover:bg-base-300 px-2 text-right font-bold capitalize"},Y={class:"group-hover:bg-base-300 px-2 text-right font-bold"},Z=e("td",{class:"group-hover:bg-base-300 px-2 text-right font-bold capitalize"},"Pinjaman Akhir",-1),ee={class:"group-hover:bg-base-300 px-2 text-right font-bold"},te={class:"modal-action flex justify-between space-x-4"},ae={class:"flex space-x-4"},se={class:"px-4 grid gap-4"},oe={class:"card w-full rounded-none border-2 border-info shadow-xl"},ne={class:"card-body grid gap-4"},ie={class:"flex items-center mb-4"},le={class:"form-control p-1"},ce=e("label",{class:"label"},[e("span",{class:"label-text"},"Cari Nomor Invoice")],-1),re={class:"form-control p-1"},de=e("label",{class:"label"},[e("span",{class:"label-text"},"Cari Berdasarkan Nama")],-1),ue=e("div",{class:"hidden badge-primary badge-secondary badge badge-accent badge-ghost badge-info badge-error"},null,-1),he={class:"card w-full rounded-none border-2 border-info shadow-xl"},be={class:"card-body grid gap-4"},pe={class:"w-full text-left text-base"},ve=e("thead",{class:"text-sm uppercase bg-primary/20"},[e("tr",null,[e("th",{class:"py-3 px-6"},"#"),e("th",{class:"py-3 px-6"},"Jenis Pembayaran"),e("th",{class:"py-3 px-6"},"Invoice Number"),e("th",{class:"py-3 px-6"},"Nama"),e("th",{class:"py-3 px-6 text-right"},"Pinjaman Awal"),e("th",{class:"py-3 px-6 text-right"},"Bayar / Pinjam"),e("th",{class:"py-3 px-6 text-right"},"Saldo Akhir"),e("th",{class:"py-3 px-6 text-right"},"Status"),e("th",{class:"py-3 px-6"})])],-1),ge=["onClick"],me={class:"group-hover:bg-base-300 py-4 px-6"},xe={class:"group-hover:bg-base-300 py-4 px-6"},_e={class:"group-hover:bg-base-300 py-4 px-6"},ye={class:"font-bold"},fe={class:"text-sm opacity-50"},Ie={class:"group-hover:bg-base-300 py-4 px-6"},ke={class:"font-bold"},De={class:"text-sm opacity-50"},Ne={class:"group-hover:bg-base-300 py-4 px-6 text-right"},we={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Fe={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Ce={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Re={class:"group-hover:bg-base-300 py-4 px-6"},Be={key:1},Pe={colspan:"9",class:"text-center border-b-2"},ze={__name:"ReportInvoiceLoanIndex",props:{search:String,invoice:String,invoices:Object},setup(t){const n=t,D=[{url:route("report.index"),label:"Laporan"},{url:route("report.invoice.index"),label:"Cetak Invoice"},{url:null,label:"Cetak Ulang Invoice"}],h=x(!1),d=w({search:n.search,invoice:n.invoice});F(d,C.exports.debounce(function(c){R.Inertia.get(route("report.invoice.index"),{search:c.search,invoice:c.invoice},{preserveState:!0,replace:!0})},500),{deep:!0});const o=x(0),N=function(c){o.value=c,h.value=!0};return(c,i)=>(r(),b(y,null,[u(l(j),{title:"Invoice Pembayaran"}),u($,{links:D}),u(z,{classes:"bg-base-content",class:""},{default:v(()=>[p("Cetak Ulang Invoice")]),_:1}),g(e("input",{type:"checkbox",id:"modal-option","onUpdate:modelValue":i[0]||(i[0]=a=>h.value=a),class:"modal-toggle"},null,512),[[B,h.value]]),e("div",U,[e("div",M,[e("table",H,[T,e("tbody",null,[e("tr",null,[e("td",q,[e("div",null,[e("div",E,s(t.invoices.data.length?t.invoices.data[o.value].invoice_number:""),1),e("div",G,s(t.invoices.data.length?t.invoices.data[o.value].invoice_date:""),1)])]),e("td",J,[e("div",null,[e("div",O,s(t.invoices.data.length?t.invoices.data[o.value].loan.modelable.name:""),1),e("div",K,s(t.invoices.data.length?t.invoices.data[o.value].loan.modelable.phone:""),1)])]),Q,e("td",W,s(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.invoices.data.length?t.invoices.data[o.value].opening_balance:0)),1)]),e("tr",null,[e("td",X,s(t.invoices.data.length?t.invoices.data[o.value].status:""),1),e("td",Y,s(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.invoices.data.length?t.invoices.data[o.value].amount:0)),1)]),e("tr",null,[Z,e("td",ee,s(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.invoices.data.length?t.invoices.data[o.value].opening_balance+t.invoices.data[o.value].amount:0)),1)])])]),e("div",te,[e("div",ae,[u(l(k),{as:"button",href:t.invoices.data.length?t.invoices.data[o.value].type.url_print:"",class:"btn btn-success"},{default:v(()=>[p("Print Invoice")]),_:1},8,["href"])]),e("button",{class:"btn btn-error",onClick:i[1]||(i[1]=a=>h.value=!1)},"Batalkan")])])]),e("section",se,[e("div",oe,[e("div",ne,[e("div",ie,[e("div",le,[ce,g(e("input",{"onUpdate:modelValue":i[2]||(i[2]=a=>l(d).invoice=a),type:"text",placeholder:"Cari Invoice Number",class:"input input-success input-bordered"},null,512),[[_,l(d).invoice]])]),e("div",re,[de,g(e("input",{"onUpdate:modelValue":i[3]||(i[3]=a=>l(d).search=a),type:"text",placeholder:"Cari Nama",class:"input input-success input-bordered"},null,512),[[_,l(d).search]])])])])]),ue,e("div",he,[e("div",be,[e("table",pe,[ve,e("tbody",null,[n.invoices.data.length?(r(!0),b(y,{key:0},P(n.invoices.data,(a,m)=>(r(),b("tr",{class:"hover:cursor-pointer group border-b",onClick:je=>N(m)},[e("th",me,s(n.invoices.from+m),1),e("td",xe,[e("div",{class:V([a.type.badge,"badge badge-md"])},s(a.type.title),3)]),e("td",_e,[e("div",null,[e("div",ye,s(a.invoice_number),1),e("div",fe,s(a.invoice_date),1)])]),e("td",Ie,[e("div",null,[e("div",ke,s(a.loan.modelable?a.loan.modelable.name:""),1),e("div",De,s(a.loan.modelable?a.loan.modelable.phone:""),1)])]),e("td",Ne,s(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.opening_balance)),1),e("td",we,s(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.amount)),1),e("td",Fe,s(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.opening_balance+a.amount)),1),e("td",Ce,s(a.status),1),e("td",Re,[u(S,{path:l(A)},null,8,["path"])])],8,ge))),256)):(r(),b("tr",Be,[e("td",Pe,[p("No Data "),n.invoices.current_page>1?(r(),f(l(k),{key:0,class:"link link-primary",href:c.route("report.invoice.search.index")},{default:v(()=>[p("Goto First Page")]),_:1},8,["href"])):I("",!0)])]))])]),n.invoices.data.length?(r(),f(L,{key:0,links:n.invoices.links},null,8,["links"])):I("",!0)])])])],64))}};export{ze as default};
