import{g as I,u as D,c as n,a as c,b as e,e as f,i as _,x as P,d as s,y as V,t as r,j as i,I as y,F as p,n as h,k,o as l,H as C,f as N,q as S,_ as $,L as M}from"./app.1b38ef22.js";import{_ as U}from"./Breadcrumb.cb73cb46.js";import{_ as j}from"./PageTitle.0dcaf6ba.js";import{_ as B}from"./Pagination.9194b4da.js";const E={class:"modal modal-bottom sm:modal-middle"},L={class:"modal-box"},R=s("h3",{class:"font-bold text-lg"},"Lanjutkan input timbangan kebun?",-1),A=s("p",{class:"py-4"},"Proses, dan lanjutkan ke halaman input data timbangan kebun petani",-1),H={class:"modal-action"},q=s("label",{for:"modal-save",class:"btn btn-warning"},"Batal",-1),J={class:"px-4 grid gap-4"},O={class:"card w-full rounded-none border-2 border-info shadow-xl"},z={class:"card-body grid md:grid-cols-4 gap-4"},G={class:"form-control w-full"},K=s("label",{class:"label"},[s("span",{class:"label-text"},"Tanggal Transaksi")],-1),Q=["disabled"],W={key:0,class:"label"},X={class:"label-text-alt text-error"},Y={class:"form-control w-full"},Z=s("label",{class:"label"},[s("span",{class:"label-text"},"Mobil")],-1),ss=["disabled"],ts=s("option",{value:"0"},"Pilih Mobil",-1),es=["value"],as={key:0,class:"label"},os={class:"label-text-alt text-error"},rs={class:"form-control w-full"},ls=s("label",{class:"label"},[s("span",{class:"label-text"},"Supir")],-1),ds=["disabled"],ns=s("option",{value:"0"},"Pilih Supir",-1),is=["value"],cs={key:0,class:"label"},_s={class:"label-text-alt text-error"},ps={class:"form-control flex justify-end"},us=["disabled"],bs={class:"card w-full rounded-none border-2 border-info shadow-xl"},hs={class:"card-body"},gs={class:"w-full text-left text-base"},ms=s("thead",{class:"text-sm uppercase bg-primary/20"},[s("tr",null,[s("th",{class:"py-3 px-6"},"#"),s("th",{class:"py-3 px-6"},"Tanggal"),s("th",{class:"py-3 px-6"},"Mobil"),s("th",{class:"py-3 px-6 text-center"},"Jumlah"),s("th",{class:"py-3 px-6 text-right"},"Rata-rata Harga"),s("th",{class:"py-3 px-6 text-right"},"Tonase"),s("th",{class:"py-3 px-6 text-right"},"Total"),s("th",{class:"py-3 px-6"})])],-1),vs={class:"group-hover:bg-base-300 py-4 px-6"},xs={class:"group-hover:bg-base-300 py-4 px-6"},fs={class:"group-hover:bg-base-300 py-4 px-6"},ys={class:"font-bold"},ks={class:"text-sm opacity-50"},ws={class:"group-hover:bg-base-300 py-4 px-6 text-center"},Fs={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Ts={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Is={class:"group-hover:bg-base-300 py-4 px-6 text-right"},Ds={class:"group-hover:bg-base-300 py-4 px-6"},Ss={__name:"TradeFactoryIndex",props:{date:String,car_id:String,driver_id:String,cars:Array,drivers:Array,trades:Object},setup(w){var m,v,x;const d=w,F=[{url:route("transaction.index"),label:"Transaksi"},{url:null,label:"Timbangan Pabrik"}],g=I(!1),a=D({date:(m=d.date)!=null?m:null,car_id:(v=d.car_id)!=null?v:0,driver_id:(x=d.driver_id)!=null?x:0}),T=()=>{a.get(route("transaction.factory.index"))};return(u,o)=>(l(),n(p,null,[c(e(C),{title:"Timbangan Pabrik"}),c(U,{links:F}),c(j,{classes:"bg-base-content"},{default:f(()=>[N("Timbangan Pabrik")]),_:1}),_(s("input",{type:"checkbox",id:"modal-save","onUpdate:modelValue":o[0]||(o[0]=t=>g.value=t),class:"modal-toggle"},null,512),[[P,g.value]]),s("div",E,[s("div",L,[R,A,s("div",H,[s("button",{ref:"btn_save",type:"button",class:"btn",onClick:o[1]||(o[1]=(...t)=>u.save&&u.save(...t))},"Proses",512),q])])]),s("section",J,[s("div",O,[s("div",z,[s("div",G,[K,_(s("input",{disabled:e(a).processing,onFocus:o[2]||(o[2]=t=>e(a).clearErrors("date")),"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).date=t),type:"date",class:"input input-info input-bordered w-full"},null,40,Q),[[V,e(a).date]]),e(a).errors.date?(l(),n("label",W,[s("span",X,r(e(a).errors.date),1)])):i("",!0)]),s("div",Y,[Z,_(s("select",{onFocus:o[4]||(o[4]=t=>e(a).clearErrors("car_id")),disabled:e(a).processing,"onUpdate:modelValue":o[5]||(o[5]=t=>e(a).car_id=t),class:"select select-info select-bordered"},[ts,(l(!0),n(p,null,h(d.cars,(t,b)=>(l(),n("option",{value:t.id,key:t.id},r(t.text.toUpperCase()),9,es))),128))],40,ss),[[y,e(a).car_id]]),e(a).errors.car_id?(l(),n("label",as,[s("span",os,r(e(a).errors.car_id),1)])):i("",!0)]),s("div",rs,[ls,_(s("select",{onFocus:o[6]||(o[6]=t=>e(a).clearErrors("driver_id")),disabled:e(a).processing,"onUpdate:modelValue":o[7]||(o[7]=t=>e(a).driver_id=t),class:"select select-info select-bordered"},[ns,(l(!0),n(p,null,h(d.drivers,(t,b)=>(l(),n("option",{value:t.id,key:t.id},r(t.text.toUpperCase()),9,is))),128))],40,ds),[[y,e(a).driver_id]]),e(a).errors.driver_id?(l(),n("label",cs,[s("span",_s,r(e(a).errors.driver_id),1)])):i("",!0)]),s("div",ps,[s("button",{disabled:e(a).processing,onClick:T,class:"btn mt-8"},"Filter",8,us)])])]),s("div",bs,[s("div",hs,[s("table",gs,[ms,s("tbody",null,[d.trades.data.length?(l(!0),n(p,{key:0},h(d.trades.data,(t,b)=>(l(),k(e(M),{as:"tr",href:u.route("transaction.factory.show",t.id),class:"hover:cursor-pointer group border-b"},{default:f(()=>[s("th",vs,r(d.trades.from+b),1),s("td",xs,r(t.trade_date),1),s("td",fs,[s("div",null,[s("div",ys,r(t.car.no_pol)+" - "+r(t.car.name),1),s("div",ks,r(t.driver.name),1)])]),s("td",ws,r(t.details.length)+" Petani",1),s("td",Fs,r(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.gross_price)),1),s("td",Ts,r(Intl.NumberFormat("id-ID",{style:"unit",unit:"kilogram"}).format(t.gross_weight)),1),s("td",Is,r(Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.gross_total)),1),s("td",Ds,[c($,{path:e(S)},null,8,["path"])])]),_:2},1032,["href"]))),256)):i("",!0)])]),d.trades.data.length?(l(),k(B,{key:0,links:d.trades.links},null,8,["links"])):i("",!0)])])])],64))}};export{Ss as default};
